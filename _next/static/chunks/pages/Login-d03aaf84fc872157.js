(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3667],{945:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login",function(){return s(9180)}])},9180:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return w}});var t=s(5893),a=s(1502),r=s.n(a),o=s(682),i=s(4492),c=s(5005),l=s(1664),d=s.n(l),u=s(4119),m=s(1555),h=s(1573),p=s(7826),g=s(1800),j=s(7294),x=s(1163),f=s(2920),N=s(6968),b=s(8126),v=s(9012),Z=s(723);function w(){return(0,t.jsx)(p.ZP,{children:(0,t.jsx)(p.Vo.Consumer,{children:e=>(0,t.jsx)("div",{children:(0,t.jsx)(C,{})})})})}function C(){let e=(0,j.useRef)(!1),n=(0,j.useContext)(p.Vo),[s,a]=(0,j.useState)(!1),l=(0,x.useRouter)(),[w,C]=(0,j.useState)(!1),[_,y]=(0,j.useState)({}),[k,P]=(0,j.useState)({first_name:"",email:"",pwd:"",contact:""}),S=e=>{let{name:n,value:s}=e.target;P({...k,[n]:s}),_[n]&&y({..._,[n]:null})},E=(0,j.useRef)(null);(0,j.useEffect)(()=>()=>{clearTimeout(E)},[]);let I=()=>{P({username:"",password:"",role:""})},O=async s=>{s.currentTarget,s.preventDefault(),s.stopPropagation();let t=(0,g.l)(k);Object.keys(t).length>0&&(y(t),C(!0)),h.Z.login(k).then(s=>{let{isAuthenticated:t,user:r,token:o}=s;t?(a(!0),n.setUser(r),n.setIsAuthenticated(t),localStorage.setItem("token",o),e.current.disabled=!0,I(),f.Am.success("Successfully Login!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),l.push("/admin/Dashboard")):(a(!1),setInterval(()=>{try{e.current.disabled=!1}catch(n){clearInterval()}},2e3),f.Am.error("Check your email and password",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}))})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{title:"Login"}),(0,t.jsx)("main",{className:r().main,children:(0,t.jsxs)("div",{className:"".concat(r().body_wrap),children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)("div",{className:r().container,children:(0,t.jsxs)("div",{className:r().Signup,children:[(0,t.jsxs)(o.Z,{className:"".concat(r().formContainer," d-flex justify-content-center"),children:[(0,t.jsx)("p",{className:"".concat(r().primary_color," h2"),children:"SIGN UP"}),(0,t.jsxs)(i.Z,{noValidate:!0,validated:w,children:[(0,t.jsxs)(i.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:[(0,t.jsxs)(u.Z,{label:"Phone Number",children:[(0,t.jsx)(i.Z.Control,{className:r().SignupInputs,type:"tel",name:"contact",onChange:S,required:!0,pattern:"^[0-9]{10}$"}),(0,t.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Enter Valid Phone Number"})]}),(0,t.jsxs)(u.Z,{className:"mt-2",label:"Password",children:[(0,t.jsx)(i.Z.Control,{className:r().SignupInputs,name:"pwd",type:"password",onChange:S,as:"input",pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{10,}$",required:!0}),(0,t.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Please Enter Valid Password"})]})]}),(0,t.jsxs)(m.Z,{md:!0,className:r().FormButtons,children:[(0,t.jsx)(c.Z,{className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),onClick:O,children:"Login"}),(0,t.jsx)(d(),{href:"/Signup",className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),ref:e,children:"Register"})]}),(0,t.jsx)(d(),{href:"/ForgotPassword",children:"Forgot Password?"})]}),s?(0,t.jsx)(N.Z,{animation:"border",variant:"warning"}):null]}),(0,t.jsx)("div",{className:"animje-element",children:(0,t.jsx)("img",{width:400,height:400,className:r().img,src:"/svgs/fingerprint.svg",alt:""})})]})}),(0,t.jsx)(Z.Z,{})]})})]})}}},function(e){e.O(0,[4976,4492,596,1698,9774,2888,179],function(){return e(e.s=945)}),_N_E=e.O()}]);