(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{4871:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/VideoMedia",function(){return a(4645)}])},1675:function(e,t,a){"use strict";var i=a(8492);t.Z={Add_New_Device:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Add_New_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Update_Media_Properties:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Update_Media_Properties?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Delete_Device:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Delete_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Get_Video_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Get_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Fetch_Video_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Fetch_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Fetch_Image_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Fetch_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Get_Image_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Get_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await a.json();return o},Delete_From_Bucket:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/Delete_From_Bucket?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await a.json();return o},Verify_Device:async e=>{let t=await fetch("http://".concat(i.Z,":5000/api/Signage/NativeTV/VerifyDevice"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await t.json();return a},Purchased_Devices:async()=>{let e=localStorage.getItem("token"),t=await fetch("http://".concat(i.Z,":5000/api/Signage/NativeTV/PurchasedDevices?secret_token=")+e,{method:"get"}),a=await t.json();return a},Invoices:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(i.Z,":5000/api/Signage/NativeTV/fetchUserInvoices?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await a.json();return o}}},2787:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=a(5893);a(7294);var o=a(5249),n=a.n(o);function s(){return(0,i.jsx)("div",{className:n().Nav,children:(0,i.jsx)("div",{className:n().title,children:(0,i.jsxs)("h3",{children:["Welcome to ",(0,i.jsx)("span",{children:"Digital Signage"})]})})})}},4645:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return F}});var i=a(5893),o=a(7294);a(2787);var n=a(9008),s=a.n(n),l=a(5005),r=a(4266),c=a(5147);a(5312),a(6821);var d=a(2318),h=a.n(d),m=a(9534),u=a(7070),_=a(1675),p=a(7826),g=a(2920),x=a(7930),v=a(1555),j=function(e){let{setChosenMedia:t,ChosenMedia:a}=e,[n,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)({}),d=(0,o.useContext)(p.V),[m,u]=(0,o.useState)(!1),{isAuthenticated:g,user:x}=d,[j,f]=(0,o.useState)();(0,o.useEffect)(()=>{g&&_.Z.Fetch_Video_list({email:x.email}).then(e=>{c(e.data),s(!0)}).catch(e=>{console.log(e)})},[g,x]);let y=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);t(a),f(e.target.value)};return(0,i.jsx)(r.Z,{children:n?["https://assets.mixkit.co/videos/preview/mixkit-waves-coming-to-the-beach-5016-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-young-woman-is-greeted-at-her-friends-apartment-12117-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-dog-catches-a-ball-in-a-river-1494-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-tree-with-yellow-flowers-1173-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-waves-in-the-water-1164-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-woman-meditating-with-her-dog-in-the-sunset-4800-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-woman-cleaning-her-house-dancing-happy-43379-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-hands-of-a-wrist-watch-3653-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-red-sports-car-74-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-red-frog-on-a-log-1487-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-girl-reading-a-book-in-nature-4897-large.mp4","https://s1.videocdn.cloud/files/01/NgxLcB.mp4","https://assets.mixkit.co/videos/download/mixkit-waves-coming-to-the-beach-5016-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-curve-on-a-snowy-forest-road-3317-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-blonde-woman-driving-on-road-4521-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-flight-getting-ready-for-departure-4065-4k.mp4","https://vod-progressive.akamaized.net/exp=1675807827~acl=%2Fvimeo-prod-skyfire-std-us%2F01%2F3275%2F6%2F166378855%2F530191608.mp4~hmac=2b22e89f8f300ed15ac142fc42227b441d4ad5360d34b3afd6e55b8d555b9ed6/vimeo-prod-skyfire-std-us/01/3275/6/166378855/530191608.mp4?download=1&filename=Drone+Footage+of+High+Rises+in+a+City.mp4"].map((e,t)=>(0,i.jsxs)("label",{className:"".concat(h().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e,className:"".concat(h().Modal_Form_label_input," inp"),hidden:!0,onChange:y}),(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row,onClick:y,children:(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("video",{src:e})})})]},t)):null})},f=function(e){let{setChosenMedia:t,ChosenMedia:a}=e,[n,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)({}),d=(0,o.useContext)(p.V),[m,u]=(0,o.useState)(!1),{isAuthenticated:g,user:x}=d,[j,f]=(0,o.useState)();(0,o.useEffect)(()=>{g&&_.Z.Fetch_Image_list({email:x.email}).then(e=>{c(e.data),s(!0)}).catch(e=>{console.log(e)})},[g,x]);let y=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);console.log(a),t(a),f(a)};return(0,i.jsx)(r.Z,{children:n?l.map((e,t)=>(0,i.jsxs)("label",{style:a.includes(e.ImageUrl)?{color:"rgb(14, 13, 13)","background-color":"#ffc107",borderRadius:"1rem"}:null,className:"".concat(h().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e.ImageUrl,className:"".concat(h().Modal_Form_label_input," inp"),hidden:!0,onChange:y}),(0,i.jsxs)(v.Z,{className:h().Modal_Form_Div_Check_Row,onClick:y,children:[(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("img",{src:"".concat(e.ImageUrl),alt:"Picture of the author",width:100,height:100})}),(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row_Col,children:e.ImageName})]})]},t)):null})},y=function(e){let{setChosenMedia:t,ChosenMedia:a}=e,[n,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)({}),d=(0,o.useContext)(p.V),[m,u]=(0,o.useState)(!1),{isAuthenticated:g,user:x}=d,[j,f]=(0,o.useState)();(0,o.useEffect)(()=>{g&&_.Z.Fetch_Image_list({email:x.email}).then(e=>{c(e.data),s(!0)}).catch(e=>{console.log(e)})},[g,x]);let y=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);console.log(a),t(a),f(a)};return(0,i.jsx)(r.Z,{children:n?l.map((e,t)=>(0,i.jsxs)("label",{style:a.includes(e.ImageUrl)?{color:"rgb(14, 13, 13)","background-color":"#ffc107",borderRadius:"1rem"}:null,className:"".concat(h().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e.ImageUrl,className:"".concat(h().Modal_Form_label_input," inp"),hidden:!0,onChange:y}),(0,i.jsxs)(v.Z,{className:h().Modal_Form_Div_Check_Row,onClick:y,children:[(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("iframe",{src:"https://rishabh-arch.github.io/mini_portfolio/index.html",height:100,title:"description"})}),(0,i.jsx)(v.Z,{className:h().Modal_Form_Div_Check_Row_Col,children:e.ImageName})]})]},t)):null})},k=a(8375);u.Z,u.Z.Header,u.Z.Body;let w=(0,i.jsxs)(u.Z,{id:"popover-basic",children:[(0,i.jsx)(u.Z.Header,{as:"h3",children:"info"}),(0,i.jsx)(u.Z.Body,{children:"This works with only Images"})]});function M(e){let{faq:t,key1:a}=e,n=(0,o.useRef)(!1),s=(0,o.useContext)(p.V),{user:d}=s,[u,v]=(0,o.useState)({bool:!1,value:"Play"}),[M,b]=(0,o.useState)(!1),[S,N]=(0,o.useState)(!1),[C,F]=(0,o.useState)("First"),[Z,I]=(0,o.useState)(t.MediaInfo.TypeOfMedia),[D,T]=(0,o.useState)(t.MediaInfo.Orientation);(0,o.useEffect)(()=>{F(t.MediaInfo.MediaUrl)},[]);let V=async e=>{v({bool:!0,value:"Wait"}),e.preventDefault();let t=e.target.value,a=document.querySelector("#device".concat(t)),i=new FormData(a);await _.Z.Update_Media_Properties({email:d.email,FinalJsonData:{DeviceID:t,MediaInfo:Object.fromEntries(i.entries())}}).then(e=>{e.msgError?(g.Am.error(e.data,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{v({bool:!1,value:"Play"})},3e3)):(setTimeout(()=>{v({bool:!1,value:"Play"})},3e3),g.Am.success("Done! please restart your device",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}))})};return(0,i.jsx)("div",{className:h().faqs,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:"deviceTable",children:(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsxs)("th",{colSpan:3,children:[(0,i.jsx)("span",{className:h().SpecificText,children:"Name: "}),t.MediaInfo.DeviceName," ",(0,i.jsx)("span",{className:h().SpecificText,children:"DeviceID: "}),t.DeviceID," ",(0,i.jsx)("span",{className:h().OnlineStatus,children:"• Online"})]})})})}),(0,i.jsxs)(r.Z,{id:"device"+t.DeviceID,name:t.DeviceID,children:[(0,i.jsxs)(k.Z,{show:S,variant:"danger",children:["The Youtube Link You Entered Is Not Valid as we can't find the playlist.",(0,i.jsx)("a",{href:"",children:" Click Here for Help"})]}),(0,i.jsxs)(c.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:h().deviceTable,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"#"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Type Of Media"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Select"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Device Name"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Orientation"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Audio"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Delay (in seconds)"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Touch"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:a+1}),(0,i.jsx)("td",{children:(0,i.jsxs)(r.Z.Select,{defaultValue:t.MediaInfo.TypeOfMedia,name:"TypeOfMedia",onChange:function(e){I(e.target.value)},style:{width:"6rem"},children:[(0,i.jsx)("option",{value:"video",children:" Video"}),(0,i.jsx)("option",{value:"image",children:" Image "}),(0,i.jsx)("option",{value:"youtube",children:" youtube "}),(0,i.jsx)("option",{value:"website",children:" website "}),(0,i.jsx)("option",{value:"HTML",children:" html "})]})}),"video"==Z||"image"==Z||"HTML"==Z?(0,i.jsxs)("td",{children:[(0,i.jsx)(l.Z,{variant:"warning",className:"me-2 mb-2",onClick:()=>void b(!0),children:"Choose"}),(0,i.jsx)(r.Z.Control,{type:"text",defaultValue:t.MediaInfo.MediaUrl,name:"MediaUrl",value:[C],hidden:!0})]}):null,"youtube"==Z||"website"==Z?(0,i.jsx)("td",{children:(0,i.jsx)(r.Z.Control,{type:"text",defaultValue:void 0!==t.MediaInfo.MediaUrl[0]?null===t.MediaInfo.MediaUrl[0].match("youtu")?"":t.MediaInfo.MediaUrl[0]:"",name:"MediaUrl",placeholder:"youtube"==Z?"Enter Youtube playlist only":"https://www.google.com/",style:{width:"10rem"},onChange:e=>{"youtube"==Z&&(null===e.target.value.match("list")?(N(!0),e.target.value=""):N(!1))}})}):null,(0,i.jsx)("td",{children:(0,i.jsx)(r.Z.Control,{type:"text",defaultValue:t.MediaInfo.DeviceName,name:"DeviceName",style:{width:"10rem"}})}),(0,i.jsx)("td",{children:(0,i.jsxs)(r.Z.Select,{defaultValue:t.MediaInfo.Orientation,name:"Orientation",id:"Select",style:{width:"9rem"},children:[(0,i.jsx)("option",{value:"Portrait",children:"Portrait"}),(0,i.jsx)("option",{value:"Landscape",children:"Landscape"})]})}),(0,i.jsx)("td",{children:(0,i.jsxs)(r.Z.Select,{defaultChecked:t.MediaInfo.Audio,name:"Audio",id:"Select",style:{width:"6rem"},children:[(0,i.jsx)("option",{value:"Mute",children:"Mute"}),(0,i.jsx)("option",{value:"UnMute",children:"UnMute"})]})}),(0,i.jsx)(m.Z,{trigger:"click",placement:"top",overlay:w,children:(0,i.jsx)("td",{children:(0,i.jsx)(r.Z.Control,{type:"text",defaultValue:t.MediaInfo.delay,name:"delay",style:{width:"10rem"}})})}),(0,i.jsx)("td",{children:(0,i.jsxs)(r.Z.Select,{defaultValue:t.MediaInfo.touch,name:"touch",id:"Select",style:{width:"9rem"},children:[(0,i.jsx)("option",{value:"true",children:"Enable"}),(0,i.jsx)("option",{value:"false",children:"Disable"})]})})]})})]}),(0,i.jsx)(l.Z,{onClick:V,name:t.MediaInfo.DeviceName,variant:"warning m-2",type:"submit",id:"device"+t.DeviceID,value:t.DeviceID,ref:n,disabled:u.bool,children:u.value}),(0,i.jsxs)(x.Z,{show:M,fullscreen:!0,onHide:()=>b(!1),className:h().modal,children:[(0,i.jsx)(x.Z.Header,{closeButton:!0,closeVariant:"white",className:h().modalHeader,children:(0,i.jsxs)(x.Z.Title,{className:h().modalTitle,children:["image"===Z?(0,i.jsx)(i.Fragment,{children:"Choose Image"}):null,"video"===Z?(0,i.jsx)(i.Fragment,{children:"Choose Video"}):null,"HTML"===Z?(0,i.jsx)(i.Fragment,{children:"choose your HTML"}):null]})}),(0,i.jsxs)(x.Z.Body,{className:h().modalBody,children:["image"===Z?(0,i.jsx)(f,{setChosenMedia:F,ChosenMedia:C}):null,"video"===Z?(0,i.jsx)(j,{setChosenMedia:F,ChosenMedia:C}):null,"HTML"===Z?(0,i.jsx)(y,{setChosenMedia:F,ChosenMedia:C}):null]}),(0,i.jsx)(x.Z.Footer,{className:h().modalFooter,children:(0,i.jsx)(l.Z,{variant:"warning",onClick:()=>b(!1),children:"Select"})})]})]})]})})}var b=a(7324),S=a.n(b);a(2744);var N=a(5249),C=a.n(N);function F(){let e=(0,o.useContext)(p.V),{user:t}=e,[a,n]=(0,o.useState)({}),[l,r]=(0,o.useState)({}),[c,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{_.Z.Get_Video_list({email:t.email}).then(e=>{e.msgError?console.log("error"):(r(e.data),n(e.data),d(!0))}).catch(e=>{console.log(e)})},[]);let m=e=>{let t;var i="^.*"+"".concat(e.target.value)+".*$";0!==(t=a.filter(e=>{let{MediaInfo:t}=e;return t.DeviceName.match(RegExp(i))})).length?r(t):0!==(t=a.filter(e=>{let{DeviceID:t}=e;return t.match(RegExp(i))})).length&&r(t)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s(),{children:(0,i.jsx)("title",{children:"Video Media"})}),(0,i.jsxs)("main",{className:S().VideoMedia_Container,children:[(0,i.jsxs)("div",{className:C().Nav,children:[(0,i.jsx)("div",{className:C().title,children:(0,i.jsxs)("h3",{children:["Welcome to ",(0,i.jsx)("span",{children:"Digital Signage"})]})}),c?(0,i.jsx)("div",{className:C().search,children:(0,i.jsx)("input",{type:"text",onChange:m,placeholder:"Search"})}):null]}),(0,i.jsx)("div",{className:S().grid,children:(0,i.jsx)("div",{className:S().row__one,children:(0,i.jsxs)("div",{id:h().DeviceSection,children:[(0,i.jsx)("div",{className:h().title,children:(0,i.jsx)("h2",{children:"Information for Devices"})}),c?l.length>0?l.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(M,{faq:e,key1:t})},t)):(0,i.jsx)("h2",{className:"text-secondary",children:"No Device Found"}):null]})})})]})]})}},5249:function(e){e.exports={Nav:"Navbar_Nav__U4jLv",title:"Navbar_title__vNChJ",search:"Navbar_search__q_Gca"}},7324:function(e){e.exports={VideoMedia_Container:"VideoMedia_VideoMedia_Container__9_Mwx",grid:"VideoMedia_grid__M5Im_",row__one:"VideoMedia_row__one__X7SjL",row__two:"VideoMedia_row__two__5AZpK"}},2318:function(e){e.exports={DeviceSection:"MediaForm_DeviceSection__fTG3_",deviceTable:"MediaForm_deviceTable__XcZDH",SpecificText:"MediaForm_SpecificText__UUDzh",title:"MediaForm_title__G9XqG",faqs:"MediaForm_faqs__S_2sy",OnlineStatus:"MediaForm_OnlineStatus__6WhZ0",OfflineStatus:"MediaForm_OfflineStatus__FCJun",modal:"MediaForm_modal__Y1t6Z",modalHeader:"MediaForm_modalHeader__7e84Z",modalBody:"MediaForm_modalBody__gCYDY",modalFooter:"MediaForm_modalFooter__tZfZM",Modal_Form_label:"MediaForm_Modal_Form_label__EAonO",Modal_Form_label_input:"MediaForm_Modal_Form_label_input__6Ixy2",Modal_Form_Div_Check_Row:"MediaForm_Modal_Form_Div_Check_Row__0JwrR",Modal_Form_Div_Check_Row_Col:"MediaForm_Modal_Form_Div_Check_Row_Col__NFSEn"}}},function(e){e.O(0,[266,620,946,361,930,850,774,888,179],function(){return e(e.s=4871)}),_N_E=e.O()}]);