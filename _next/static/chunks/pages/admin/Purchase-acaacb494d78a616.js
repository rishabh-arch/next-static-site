(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{9568:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/Purchase",function(){return a(1290)}])},1675:function(e,t,a){"use strict";var s=a(8492);t.Z={Add_New_Device:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Add_New_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Update_Media_Properties:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Update_Media_Properties?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Delete_Device:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Delete_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Get_Video_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Get_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Fetch_Video_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Fetch_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Fetch_Image_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Fetch_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},Get_Image_list:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Get_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n=await a.json();return n},Delete_From_Bucket:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/Delete_From_Bucket?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n=await a.json();return n},Verify_Device:async e=>{let t=await fetch("http://".concat(s.Z,":5000/api/Signage/NativeTV/VerifyDevice"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await t.json();return a},Purchased_Devices:async()=>{let e=localStorage.getItem("token"),t=await fetch("http://".concat(s.Z,":5000/api/Signage/NativeTV/PurchasedDevices?secret_token=")+e,{method:"get"}),a=await t.json();return a},Invoices:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/NativeTV/fetchUserInvoices?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n=await a.json();return n}}},4307:function(e,t,a){"use strict";var s=a(8492);t.Z={createOrder:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/NativeTV/createOrder?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)},createOrderForOwnedDevices:async e=>{let t=localStorage.getItem("token"),a=await fetch("http://".concat(s.Z,":5000/api/Signage/NativeTV/createOrderForOwnedDevices?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==a.status?a.json().then(e=>e):a.json().then(e=>e)}}},7119:function(e,t,a){"use strict";a.d(t,{Y:function(){return n},e:function(){return i}});var s=a(8492);let n=e=>{let{order:t,user:a,key:n}=e,i=localStorage.getItem("token"),r={key:n,amount:t.amount,currency:"INR",name:"Signage Verse",description:"Test Transaction",image:"https://rishabh-arch.github.io/website-assets/Signage/TV/icon.png",order_id:t.id,callback_url:"http://".concat(s.Z,":5000/api/Signage/NativeTV/PaymentVerification?secret_token=")+i,prefill:{name:a.first_name,email:a.email,contact:a.contact},notes:{address:"Razorpay Corporate Office"},theme:{color:"#ffc107"}};new Razorpay(r).open()},i=e=>{let{order:t,user:a,key:n}=e,i=localStorage.getItem("token"),r={key:n,amount:t.amount,currency:"INR",name:"Signage Verse",description:"Test Transaction",image:"https://rishabh-arch.github.io/website-assets/Signage/TV/icon.png",order_id:t.id,callback_url:"http://".concat(s.Z,":5000/api/Signage/NativeTV/PaymentVerificationForOwnedDevices?secret_token=")+i,prefill:{name:a.first_name,email:a.email,contact:a.contact},notes:{address:"Razorpay Corporate Office"},theme:{color:"#ffc107"}};new Razorpay(r).open()}},2787:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(5893);a(7294);var n=a(5249),i=a.n(n);function r(){return(0,s.jsx)("div",{className:i().Nav,children:(0,s.jsx)("div",{className:i().title,children:(0,s.jsxs)("h3",{children:["Welcome to ",(0,s.jsx)("span",{children:"Digital Signage"})]})})})}},1290:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var s=a(5893),n=a(7294),i=a(2787),r=a(4307),o=a(7826),c=a(5005),l=a(4266),d=a(550),h=a.n(d);a(7814);var m=a(2920),_=a(1163),p=a(7119);function u(){let e=(0,n.useContext)(o.V),{isAuthenticated:t,user:a}=e;(0,_.useRouter)();let[i,d]=(0,n.useState)(!1),[u,g]=(0,n.useState)({DeviceQuantity:"",DevicePeriod:""}),[f,j]=(0,n.useState)(!1),v=e=>{let{name:t,value:a}=e.target;g({...u,[t]:a})},x=async e=>{e.preventDefault(),e.stopPropagation(),""===u.DeviceQuantity||""===u.DevicePeriod?m.Am.error("Please Fill all the Details",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):(d(!0),r.Z.createOrder(u).then(e=>{e.msgError?(d(!1),m.Am.error(e.message.msgBody,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})):((0,p.Y)(e.data),d(!1),m.Am.success("Successfully Added!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}))}).catch(e=>{d(!1),m.Am.error("SomeThing Went Wrong!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}))};return(0,s.jsx)("div",{className:h().faqs,children:(0,s.jsxs)("div",{className:h().payment,children:[(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("div",{className:"d-flex mb-2 ".concat(h().paymentHeader),children:(0,s.jsxs)("p",{className:"h4 ",children:[(0,s.jsx)("img",{alt:"",width:30,height:30,src:"/icon.png"}),(0,s.jsx)("span",{className:"mx-2",children:"Signage Verse"})]})}),(0,s.jsxs)("div",{className:"px-4",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,s.jsx)("p",{className:"textmuted",children:"Devices"}),(0,s.jsx)("p",{className:"fs-14 fw-bold",children:""==u.DeviceQuantity?"NiL":u.DeviceQuantity})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,s.jsx)("p",{className:"textmuted",children:"per Device"}),(0,s.jsxs)("p",{className:"fs-14 fw-bold",children:[(0,s.jsx)("span",{className:"fas fa-dollar-sign pe-1"}),"₹500"]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,s.jsx)("p",{className:"textmuted",children:"Month"}),(0,s.jsx)("p",{className:"fs-14 fw-bold",children:""==u.DevicePeriod?"NiL":"".concat(u.DevicePeriod)})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,s.jsx)("p",{className:"textmuted fw-bold",children:"Total"}),(0,s.jsxs)("div",{className:"d-flex align-text-top ",children:[(0,s.jsx)("span",{className:"fas fa-dollar-sign mt-1 pe-1 fs-14 "}),(0,s.jsxs)("span",{className:"h4",children:["₹",u.DevicePeriod*u.DeviceQuantity*500]})]})]})]})]}),(0,s.jsx)(l.Z,{className:h().form,children:(0,s.jsxs)(l.Z.Group,{className:"d-flex flex-column ".concat(h().form_group),controlId:"formBasicEmail",children:[(0,s.jsxs)(l.Z.Select,{type:"number",className:"mt-3 mb-3",placeholder:"Devices",name:"DeviceQuantity",pattern:"^[A-Za-z0-9]*$",onChange:v,children:[(0,s.jsx)("option",{value:"",children:"Select Devices"}),[1,2,4].map((e,t)=>(0,s.jsxs)("option",{value:e,children:[e," Device"]},t))]}),(0,s.jsxs)(l.Z.Select,{type:"text",className:"mt-3 mb-3",placeholder:"Select Month",name:"DevicePeriod",pattern:"^[A-Za-z0-9]*$",onChange:v,children:[(0,s.jsx)("option",{value:"",children:"Select Month"}),[1,2,4].map((e,t)=>(0,s.jsxs)("option",{value:e,children:[e," Month"]},t))]}),(0,s.jsx)(c.Z,{variant:"warning",className:"font-weight-bold m-2",type:"submit",onClick:x,disabled:i,children:"Pay"})]})})]})})}var g=a(1675),f=a(9803),j=a.n(f),v=a(4184),x=a.n(v),y=a(6792),N=a(80);let b=n.forwardRef(({active:e,disabled:t,className:a,style:n,activeLabel:i,children:r,...o},c)=>{let l=e||t?"span":N.Z;return(0,s.jsx)("li",{ref:c,style:n,className:x()(a,"page-item",{active:e,disabled:t}),children:(0,s.jsxs)(l,{className:"page-link",...o,children:[r,e&&i&&(0,s.jsx)("span",{className:"visually-hidden",children:i})]})})});function w(e,t,a=e){let i=n.forwardRef(({children:e,...n},i)=>(0,s.jsxs)(b,{...n,ref:i,children:[(0,s.jsx)("span",{"aria-hidden":"true",children:e||t}),(0,s.jsx)("span",{className:"visually-hidden",children:a})]}));return i.displayName=e,i}b.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},b.displayName="PageItem";let S=w("First","\xab"),P=w("Prev","‹","Previous"),D=w("Ellipsis","…","More"),C=w("Next","›"),T=w("Last","\xbb"),k=n.forwardRef(({bsPrefix:e,className:t,size:a,...n},i)=>{let r=(0,y.vE)(e,"pagination");return(0,s.jsx)("ul",{ref:i,...n,className:x()(t,r,a&&`${r}-${a}`)})});k.displayName="Pagination";var O=Object.assign(k,{First:S,Prev:P,Ellipsis:D,Item:b,Next:C,Last:T}),Z=a(5147);function I(){let e=(0,n.useContext)(o.V),{isAuthenticated:t,user:a}=e;(0,_.useRouter)();let[i,r]=(0,n.useState)(!1),[c,l]=(0,n.useState)({DeviceQuantity:"",DevicePeriod:""}),[d,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)({}),[u,f]=(0,n.useState)(!1),[v,x]=(0,n.useState)(1),[y,N]=(0,n.useState)(1);(0,n.useEffect)(()=>{console.log(v),g.Z.Invoices({page:v}).then(e=>{e.msgError?console.log("error"):(p(e.msg),N(e.count),f(!0))}).catch(e=>{console.log(e)})},[v]);let b=[];for(let w=1;w<=y/20;w++)b.push((0,s.jsx)(O.Item,{onClick:()=>x(w),style:{color:"white"},active:w===v,children:w},w));return(0,s.jsxs)("div",{className:j().faqs,children:[(0,s.jsxs)(Z.Z,{className:j().faqs_table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:j().Table_headRow,children:"#"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Order ID"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Devices"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Period"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Purchased On"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Ends On"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Amount"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Payment ID"}),(0,s.jsx)("th",{className:j().Table_headRow,children:"Invoice"})]})}),(0,s.jsx)("tbody",{children:u?m.length>0?m.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:j().Table_bodyRow,children:t+1}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.OrderId}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.DeviceQuantity}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.DevicePeriod}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.startDate}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.endDate}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.Amount}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:e.PaymentId}),(0,s.jsx)("td",{className:j().Table_bodyRow,children:"Download PDF"})]},t)):(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:(0,s.jsx)("h3",{className:"text-warning center",children:"No Transactions"})}):null})]}),(0,s.jsx)(O,{className:j().pagination,children:b})]})}var R=a(9529);function V(){return(0,s.jsx)(R.BB,{children:(0,s.jsxs)(R.T3,{size:"A4",style:E.page,children:[(0,s.jsxs)(R.G7,{style:E.section,children:[(0,s.jsx)(R.xv,{children:"Section #1"}),(0,s.jsx)(R.xv,{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quisquam nesciunt magni animi minima veritatis. Corrupti molestiae vel, ex explicabo voluptatem eum omnis a sit in maxime possimus perferendis, laudantium repudiandae?"})]}),(0,s.jsx)(R.G7,{style:E.section,children:(0,s.jsx)(R.xv,{children:"Section #2"})})]})})}let E=R.mM.create({page:{flexDirection:"row",backgroundColor:"#000"},section:{margin:10,padding:10,flexGrow:1}});var A=a(8862),F=a.n(A);a(1664);var $=a(3192),B=a(3755);function J(){let[e,t]=(0,R.Eb)({document:V});return e.loading?(0,s.jsx)("div",{children:"Loading ..."}):e.error?(0,s.jsxs)("div",{children:["Something went wrong: ",error]}):(0,s.jsxs)("main",{className:F().purchase_Container,children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)("div",{className:F().grid,children:(0,s.jsxs)(B.Z,{defaultActiveKey:"Buy New",id:"fill-tab-example",className:F().tabs,fill:!0,children:[(0,s.jsx)($.Z,{eventKey:"Buy New",title:"Buy New",className:F().tab__one,children:(0,s.jsx)("div",{className:F().row__one,children:(0,s.jsx)(u,{})})}),(0,s.jsx)($.Z,{eventKey:"Transactions",title:"Transactions",className:F().tab__one,children:(0,s.jsx)("div",{className:F().row__one,children:(0,s.jsx)(I,{})})})]})})]})}},5249:function(e){e.exports={Nav:"Navbar_Nav__U4jLv",title:"Navbar_title__vNChJ",search:"Navbar_search__q_Gca"}},8862:function(e){e.exports={purchase_Container:"Purchase_purchase_Container__Xy0sZ",grid:"Purchase_grid__LfKnS",tabs:"Purchase_tabs__10jfj",tab__one:"Purchase_tab__one__jAf_F",row__one:"Purchase_row__one__26EOE",row__two:"Purchase_row__two__3xP8j"}},550:function(e){e.exports={Device_container:"PurchaseContainer_Device_container__ryUZi",title:"PurchaseContainer_title__Ny0jP",faqs:"PurchaseContainer_faqs__A2sZu",payment:"PurchaseContainer_payment__xP8Mf",paymentHeader:"PurchaseContainer_paymentHeader___y9T4",form:"PurchaseContainer_form__Oii76",form_group:"PurchaseContainer_form_group__Q_EmN",icon:"PurchaseContainer_icon__Fb_x5",info:"PurchaseContainer_info__xf9ri"}},9803:function(e){e.exports={Device_container:"PurchasedDevicesContainer_Device_container__jt6Tp",title:"PurchasedDevicesContainer_title__cz2on",faqs:"PurchasedDevicesContainer_faqs__aWMwG",faqs_table:"PurchasedDevicesContainer_faqs_table__4YsUS",Table_headRow:"PurchasedDevicesContainer_Table_headRow__83QAM",payment:"PurchasedDevicesContainer_payment__o6rFZ",paymentHeader:"PurchasedDevicesContainer_paymentHeader__iKwuY",form:"PurchasedDevicesContainer_form__Nkdq8",form_group:"PurchasedDevicesContainer_form_group__WxQd2",icon:"PurchasedDevicesContainer_icon__bPMFi",info:"PurchasedDevicesContainer_info__QVbOo",pagination:"PurchasedDevicesContainer_pagination__T15AZ"}},5147:function(e,t,a){"use strict";var s=a(4184),n=a.n(s),i=a(7294),r=a(6792),o=a(5893);let c=i.forwardRef(({bsPrefix:e,className:t,striped:a,bordered:s,borderless:i,hover:c,size:l,variant:d,responsive:h,...m},_)=>{let p=(0,r.vE)(e,"table"),u=n()(t,p,d&&`${p}-${d}`,l&&`${p}-${l}`,a&&`${p}-${"string"==typeof a?`striped-${a}`:"striped"}`,s&&`${p}-bordered`,i&&`${p}-borderless`,c&&`${p}-hover`),g=(0,o.jsx)("table",{...m,className:u,ref:_});if(h){let f=`${p}-responsive`;return"string"==typeof h&&(f=`${f}-${h}`),(0,o.jsx)("div",{className:f,children:g})}return g});t.Z=c},2480:function(){}},function(e){e.O(0,[186,445,111,999,266,620,946,42,659,774,888,179],function(){return e(e.s=9568)}),_N_E=e.O()}]);