(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3771],{4871:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/VideoMedia",function(){return a(4645)}])},1675:function(e,t){"use strict";let a="192.168.0.200:5000";t.Z={Add_New_Device:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Add_New_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Update_Media_Properties:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Update_Media_Properties?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Delete_Device:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Delete_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Get_Video_list:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Get_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Fetch_Video_list:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Fetch_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Fetch_Image_list:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Fetch_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==i.status?i.json().then(e=>e):i.json().then(e=>e)},Get_Image_list:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Get_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await i.json();return o},Delete_From_Bucket:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/Delete_From_Bucket?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await i.json();return o},Verify_Device:async e=>{let t=await fetch("http://".concat(a,"/api/Signage/NativeTV/VerifyDevice"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),i=await t.json();return i},Purchased_Devices:async()=>{let e=localStorage.getItem("token"),t=await fetch("http://".concat(a,"/api/Signage/NativeTV/PurchasedDevices?secret_token=")+e,{method:"get"}),i=await t.json();return i},Invoices:async e=>{let t=localStorage.getItem("token"),i=await fetch("http://".concat(a,"/api/Signage/NativeTV/fetchUserInvoices?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await i.json();return o}}},2787:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var i=a(5893);a(7294);var o=a(5249),s=a.n(o);function n(){return(0,i.jsx)("div",{className:s().Nav,children:(0,i.jsx)("div",{className:s().title,children:(0,i.jsxs)("h3",{children:["Welcome to ",(0,i.jsx)("span",{children:"Digital Signage"})]})})})}},4645:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var i=a(5893),o=a(7294);a(2787),a(9008);var s=a(5005),n=a(4492),l=a(5147);a(5312),a(6821);var r=a(2318),c=a.n(r),d=a(9534),h=a(7070),m=a(1675),p=a(7826),u=a(2920),_=a(7930),g=a(1555),x=function(e){let{setChosenMedia:t,ChosenMedia:a,isAuthenticated:s,user:l}=e;console.log(s,l,"from video media modal body");let[r,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)({}),[u,_]=(0,o.useState)(!1),[x,v]=(0,o.useState)();(0,o.useEffect)(()=>{s&&m.Z.Fetch_Video_list({email:l.email}).then(e=>{p(e.data),d(!0)}).catch(e=>{console.log(e)})},[s,l]);let j=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);t(a),v(e.target.value)};return(0,i.jsx)(n.Z,{children:r?["https://assets.mixkit.co/videos/preview/mixkit-waves-coming-to-the-beach-5016-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-young-woman-is-greeted-at-her-friends-apartment-12117-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-dog-catches-a-ball-in-a-river-1494-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-tree-with-yellow-flowers-1173-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-waves-in-the-water-1164-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-woman-meditating-with-her-dog-in-the-sunset-4800-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-woman-cleaning-her-house-dancing-happy-43379-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-hands-of-a-wrist-watch-3653-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-red-sports-car-74-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-red-frog-on-a-log-1487-large.mp4","https://assets.mixkit.co/videos/preview/mixkit-girl-reading-a-book-in-nature-4897-large.mp4","https://s1.videocdn.cloud/files/01/NgxLcB.mp4","https://assets.mixkit.co/videos/download/mixkit-waves-coming-to-the-beach-5016-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-curve-on-a-snowy-forest-road-3317-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-blonde-woman-driving-on-road-4521-4k.mp4","https://assets.mixkit.co/videos/download/mixkit-flight-getting-ready-for-departure-4065-4k.mp4","https://vod-progressive.akamaized.net/exp=1675807827~acl=%2Fvimeo-prod-skyfire-std-us%2F01%2F3275%2F6%2F166378855%2F530191608.mp4~hmac=2b22e89f8f300ed15ac142fc42227b441d4ad5360d34b3afd6e55b8d555b9ed6/vimeo-prod-skyfire-std-us/01/3275/6/166378855/530191608.mp4?download=1&filename=Drone+Footage+of+High+Rises+in+a+City.mp4"].map((e,t)=>(0,i.jsxs)("label",{className:"".concat(c().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e,className:"".concat(c().Modal_Form_label_input," inp"),hidden:!0,onChange:j}),(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row,onClick:j,children:(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("video",{src:e})})})]},t)):null})},v=function(e){let{setChosenMedia:t,ChosenMedia:a,isAuthenticated:s,user:l}=e,[r,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)({}),[u,_]=(0,o.useState)(!1),[x,v]=(0,o.useState)();(0,o.useEffect)(()=>{s&&m.Z.Fetch_Image_list({email:l.email}).then(e=>{p(e.data),d(!0)}).catch(e=>{console.log(e)})},[s,l]);let j=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);console.log(a),t(a),v(a)};return(0,i.jsx)(n.Z,{children:r?["https://images.pexels.com/photos/842711/pexels-photo-842711.jpeg","https://images.pexels.com/photos/1525041/pexels-photo-1525041.jpeg","https://images.pexels.com/photos/1379636/pexels-photo-1379636.jpeg","https://images.pexels.com/photos/1379636/pexels-photo-1379636.jpeg","https://images.pexels.com/photos/3791466/pexels-photo-3791466.jpeg","https://getwallpapers.com/wallpaper/full/5/1/2/299626.jpg","https://www.pixelstalk.net/wp-content/uploads/2016/07/Nature-wallpapers-hd-backgroud-1080p.jpg","https://wallpapercave.com/wp/YYebhp2.jpg"].map((e,t)=>(0,i.jsxs)("label",{className:"".concat(c().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e,className:"".concat(c().Modal_Form_label_input," inp"),hidden:!0,onChange:j}),(0,i.jsxs)(g.Z,{className:c().Modal_Form_Div_Check_Row,onClick:j,children:[(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("img",{src:"".concat(e),alt:"".concat(e),width:100,height:100,loading:"lazy"})}),(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row_Col,children:"imagename"})]})]},t)):null})},j=function(e){let{setChosenMedia:t,ChosenMedia:a,isAuthenticated:s,user:l}=e,[r,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)({}),[u,_]=(0,o.useState)(!1),[x,v]=(0,o.useState)();(0,o.useEffect)(()=>{s&&m.Z.Fetch_Image_list({email:l.email}).then(e=>{p(e.data),d(!0)}).catch(e=>{console.log(e)})},[s,l]);let j=e=>{let a=[...document.querySelectorAll(".inp:checked")].map(e=>e.value);console.log(a),t(a),v(a)};return(0,i.jsx)(n.Z,{children:r?h.map((e,t)=>(0,i.jsxs)("label",{style:a.includes(e.ImageUrl)?{color:"rgb(14, 13, 13)","background-color":"#ffc107",borderRadius:"1rem"}:null,className:"".concat(c().Modal_Form_label," col mb-3"),children:[(0,i.jsx)("input",{type:"checkbox",name:"group1",value:e.ImageUrl,className:"".concat(c().Modal_Form_label_input," inp"),hidden:!0,onChange:j}),(0,i.jsxs)(g.Z,{className:c().Modal_Form_Div_Check_Row,onClick:j,children:[(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row_Col,md:5,children:(0,i.jsx)("iframe",{src:"https://rishabh-arch.github.io/mini_portfolio/index.html",height:100,title:"description"})}),(0,i.jsx)(g.Z,{className:c().Modal_Form_Div_Check_Row_Col,children:e.ImageName})]})]},t)):null})},f=a(8375);function y(e){let{faq:t,key1:a}=e;return(0,i.jsx)(p.ZP,{children:(0,i.jsx)(p.Vo.Consumer,{children:e=>(0,i.jsx)("div",{children:(0,i.jsx)(k,{faq:t,key1:a})})})})}h.Z,h.Z.Header,h.Z.Body;let w=(0,i.jsxs)(h.Z,{id:"popover-basic",children:[(0,i.jsx)(h.Z.Header,{as:"h3",children:"info"}),(0,i.jsx)(h.Z.Body,{children:"This works with only Images"})]});function k(e){let{faq:t,key1:a}=e,r=(0,o.useRef)(!1),h=(0,o.useContext)(p.Vo),{isAuthenticated:g,user:y}=h,[k,M]=(0,o.useState)({bool:!1,value:"Play"}),[b,S]=(0,o.useState)(!1),[N,C]=(0,o.useState)(!1),[F,D]=(0,o.useState)("First"),[I,Z]=(0,o.useState)(t.MediaInfo.TypeOfMedia),[T,V]=(0,o.useState)(t.MediaInfo.Orientation);(0,o.useEffect)(()=>{D(t.MediaInfo.MediaUrl)},[]);let O=async e=>{M({bool:!0,value:"Wait"}),e.preventDefault();let t=e.target.value,a=document.querySelector("#device".concat(t)),i=new FormData(a);await m.Z.Update_Media_Properties({email:y.email,FinalJsonData:{DeviceID:t,MediaInfo:Object.fromEntries(i.entries())}}).then(e=>{e.msgError?(u.Am.error(e.data,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{M({bool:!1,value:"Play"})},3e3)):(setTimeout(()=>{M({bool:!1,value:"Play"})},3e3),u.Am.success("Done! please restart your device",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}))})};return(0,i.jsx)("div",{className:c().faqs,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:"deviceTable",children:(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsxs)("th",{colSpan:3,children:[(0,i.jsx)("span",{className:c().SpecificText,children:"Name: "}),t.MediaInfo.DeviceName," ",(0,i.jsx)("span",{className:c().SpecificText,children:"DeviceID: "}),t.DeviceID," ",(0,i.jsx)("span",{className:c().OnlineStatus,children:"• Online"})]})})})}),(0,i.jsxs)(n.Z,{id:"device"+t.DeviceID,name:t.DeviceID,children:[(0,i.jsxs)(f.Z,{show:N,variant:"danger",children:["The Youtube Link You Entered Is Not Valid as we can't find the playlist.",(0,i.jsx)("a",{href:"",children:" Click Here for Help"})]}),(0,i.jsxs)(l.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:c().deviceTable,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"#"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Type Of Media"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Select"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Device Name"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Orientation"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Audio"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Delay (in seconds)"}),(0,i.jsx)("th",{style:{textAlign:"center",alignItems:"center"},children:"Touch"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:a+1}),(0,i.jsx)("td",{children:(0,i.jsxs)(n.Z.Select,{defaultValue:t.MediaInfo.TypeOfMedia,name:"TypeOfMedia",onChange:function(e){Z(e.target.value)},style:{width:"6rem"},children:[(0,i.jsx)("option",{value:"video",children:" Video"}),(0,i.jsx)("option",{value:"image",children:" Image "}),(0,i.jsx)("option",{value:"youtube",children:" youtube "}),(0,i.jsx)("option",{value:"website",children:" website "}),(0,i.jsx)("option",{value:"HTML",children:" html "})]})}),"video"==I||"image"==I||"HTML"==I?(0,i.jsxs)("td",{children:[(0,i.jsx)(s.Z,{variant:"warning",className:"me-2 mb-2",onClick:()=>void S(!0),children:"Choose"}),(0,i.jsx)(n.Z.Control,{type:"text",defaultValue:t.MediaInfo.MediaUrl,name:"MediaUrl",value:[F],hidden:!0})]}):null,"youtube"==I||"website"==I?(0,i.jsx)("td",{children:(0,i.jsx)(n.Z.Control,{type:"text",defaultValue:void 0!==t.MediaInfo.MediaUrl[0]?null===t.MediaInfo.MediaUrl[0].match("youtu")?"":t.MediaInfo.MediaUrl[0]:"",name:"MediaUrl",placeholder:"youtube"==I?"Enter Youtube playlist only":"https://www.google.com/",style:{width:"10rem"},onChange:e=>{"youtube"==I&&(null===e.target.value.match("list")?(C(!0),e.target.value=""):C(!1))}})}):null,(0,i.jsx)("td",{children:(0,i.jsx)(n.Z.Control,{type:"text",defaultValue:t.MediaInfo.DeviceName,name:"DeviceName",style:{width:"10rem"}})}),(0,i.jsx)("td",{children:(0,i.jsxs)(n.Z.Select,{defaultValue:t.MediaInfo.Orientation,name:"Orientation",id:"Select",style:{width:"9rem"},children:[(0,i.jsx)("option",{value:"Portrait",children:"Portrait"}),(0,i.jsx)("option",{value:"Landscape",children:"Landscape"})]})}),(0,i.jsx)("td",{children:(0,i.jsxs)(n.Z.Select,{defaultChecked:t.MediaInfo.Audio,name:"Audio",id:"Select",style:{width:"6rem"},children:[(0,i.jsx)("option",{value:"Mute",children:"Mute"}),(0,i.jsx)("option",{value:"UnMute",children:"UnMute"})]})}),(0,i.jsx)(d.Z,{trigger:"click",placement:"top",overlay:w,children:(0,i.jsx)("td",{children:(0,i.jsx)(n.Z.Control,{type:"text",defaultValue:t.MediaInfo.delay,name:"delay",style:{width:"10rem"}})})}),(0,i.jsx)("td",{children:(0,i.jsxs)(n.Z.Select,{defaultValue:t.MediaInfo.touch,name:"touch",id:"Select",style:{width:"9rem"},children:[(0,i.jsx)("option",{value:"true",children:"Enable"}),(0,i.jsx)("option",{value:"false",children:"Disable"})]})})]})})]}),(0,i.jsx)(s.Z,{onClick:O,name:t.MediaInfo.DeviceName,variant:"warning m-2",type:"submit",id:"device"+t.DeviceID,value:t.DeviceID,ref:r,disabled:k.bool,children:k.value}),(0,i.jsxs)(_.Z,{show:b,fullscreen:!0,onHide:()=>S(!1),className:c().modal,children:[(0,i.jsx)(_.Z.Header,{closeButton:!0,closeVariant:"white",className:c().modalHeader,children:(0,i.jsxs)(_.Z.Title,{className:c().modalTitle,children:["image"===I?(0,i.jsx)(i.Fragment,{children:"Choose Image"}):null,"video"===I?(0,i.jsx)(i.Fragment,{children:"Choose Video"}):null,"HTML"===I?(0,i.jsx)(i.Fragment,{children:"choose your HTML"}):null]})}),(0,i.jsxs)(_.Z.Body,{className:c().modalBody,children:["image"===I?(0,i.jsx)(v,{setChosenMedia:D,ChosenMedia:F,isAuthenticated:g,user:y}):null,"video"===I?(0,i.jsx)(x,{setChosenMedia:D,ChosenMedia:F,isAuthenticated:g,user:y}):null,"HTML"===I?(0,i.jsx)(j,{setChosenMedia:D,ChosenMedia:F,isAuthenticated:g,user:y}):null]}),(0,i.jsx)(_.Z.Footer,{className:c().modalFooter,children:(0,i.jsx)(s.Z,{variant:"warning",onClick:()=>S(!1),children:"Select"})})]})]})]})})}var M=a(7324),b=a.n(M);a(2744);var S=a(5249),N=a.n(S);function C(){return(0,i.jsx)(p.ZP,{children:(0,i.jsx)(p.Vo.Consumer,{children:e=>(0,i.jsx)("div",{children:(0,i.jsx)(F,{})})})})}function F(){let e=(0,o.useContext)(p.Vo),{user:t}=e,[a,s]=(0,o.useState)({}),[n,l]=(0,o.useState)({}),[r,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{m.Z.Get_Video_list({email:t.email}).then(e=>{e.msgError?console.log("error"):(l(e.data),s(e.data),d(!0))}).catch(e=>{console.log(e)})},[]);let h=e=>{let t;var i="^.*"+"".concat(e.target.value)+".*$";0!==(t=a.filter(e=>{let{MediaInfo:t}=e;return t.DeviceName.match(RegExp(i))})).length?l(t):0!==(t=a.filter(e=>{let{DeviceID:t}=e;return t.match(RegExp(i))})).length&&l(t)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("main",{className:b().VideoMedia_Container,children:[(0,i.jsxs)("div",{className:N().Nav,children:[(0,i.jsx)("div",{className:N().title,children:(0,i.jsxs)("h3",{children:["Welcome to ",(0,i.jsx)("span",{children:"Digital Signage"})]})}),r?(0,i.jsx)("div",{className:N().search,children:(0,i.jsx)("input",{type:"text",onChange:h,placeholder:"Search"})}):null]}),(0,i.jsx)("div",{className:b().grid,children:(0,i.jsx)("div",{className:b().row__one,children:(0,i.jsxs)("div",{id:c().DeviceSection,children:[(0,i.jsx)("div",{className:c().title,children:(0,i.jsx)("h2",{children:"Information for Devices"})}),r?n.length>0?n.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(y,{faq:e,key1:t})},t)):(0,i.jsx)("h2",{className:"text-secondary",children:"No Device Found"}):null]})})})]})})}},5249:function(e){e.exports={Nav:"Navbar_Nav__U4jLv",title:"Navbar_title__vNChJ",search:"Navbar_search__q_Gca"}},7324:function(e){e.exports={VideoMedia_Container:"VideoMedia_VideoMedia_Container__9_Mwx",grid:"VideoMedia_grid__M5Im_",row__one:"VideoMedia_row__one__X7SjL",row__two:"VideoMedia_row__two__5AZpK"}},2318:function(e){e.exports={DeviceSection:"MediaForm_DeviceSection__fTG3_",deviceTable:"MediaForm_deviceTable__XcZDH",SpecificText:"MediaForm_SpecificText__UUDzh",title:"MediaForm_title__G9XqG",faqs:"MediaForm_faqs__S_2sy",OnlineStatus:"MediaForm_OnlineStatus__6WhZ0",OfflineStatus:"MediaForm_OfflineStatus__FCJun",modal:"MediaForm_modal__Y1t6Z",modalHeader:"MediaForm_modalHeader__7e84Z",modalBody:"MediaForm_modalBody__gCYDY",modalFooter:"MediaForm_modalFooter__tZfZM",Modal_Form_label:"MediaForm_Modal_Form_label__EAonO",Modal_Form_label_input:"MediaForm_Modal_Form_label_input__6Ixy2",Modal_Form_Div_Check_Row:"MediaForm_Modal_Form_Div_Check_Row__0JwrR",Modal_Form_Div_Check_Row_Col:"MediaForm_Modal_Form_Div_Check_Row_Col__NFSEn"}}},function(e){e.O(0,[4492,5263,5715,6361,7930,9850,9774,2888,179],function(){return e(e.s=4871)}),_N_E=e.O()}]);