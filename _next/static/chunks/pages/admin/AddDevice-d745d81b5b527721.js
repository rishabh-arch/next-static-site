(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5741],{7814:function(e,t,n){"use strict";n.d(t,{G:function(){return b}});var r=n(3636),a=n(5697),o=n.n(a),i=n(7294);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t;return(t=e-0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)}var m=["style"],h=!1;try{h=!0}catch(g){}function v(e){return e&&"object"===l(e)&&e.prefix&&e.iconName&&e.icon?e:r.Qc.icon?r.Qc.icon(e):null===e?null:e&&"object"===l(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function y(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?u({},e,t):{}}var b=i.forwardRef(function(e,t){var n,a,o,i,s,l,f,p,m,g,j,x,D,C,N,w,O,S,k,Z=e.icon,I=e.mask,P=e.symbol,A=e.className,E=e.title,T=e.titleId,B=e.maskId,F=v(Z),V=y("classes",[].concat(d((a=e.beat,o=e.fade,i=e.beatFade,s=e.bounce,l=e.shake,f=e.flash,p=e.spin,m=e.spinPulse,g=e.spinReverse,j=e.pulse,x=e.fixedWidth,D=e.inverse,C=e.border,N=e.listItem,w=e.flip,O=e.size,S=e.rotation,k=e.pull,Object.keys((u(n={"fa-beat":a,"fa-fade":o,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":l,"fa-flash":f,"fa-spin":p,"fa-spin-reverse":g,"fa-spin-pulse":m,"fa-pulse":j,"fa-fw":x,"fa-inverse":D,"fa-border":C,"fa-li":N,"fa-flip":!0===w,"fa-flip-horizontal":"horizontal"===w||"both"===w,"fa-flip-vertical":"vertical"===w||"both"===w},"fa-".concat(O),null!=O),u(n,"fa-rotate-".concat(S),null!=S&&0!==S),u(n,"fa-pull-".concat(k),null!=k),u(n,"fa-swap-opacity",e.swapOpacity),n)).map(function(e){return n[e]?e:null}).filter(function(e){return e}))),d(A.split(" ")))),H=y("transform","string"==typeof e.transform?r.Qc.transform(e.transform):e.transform),R=y("mask",v(I)),W=(0,r.qv)(F,c(c(c(c({},V),H),R),{},{symbol:P,title:E,titleId:T,maskId:B}));if(!W)return!function(){if(!h&&console&&"function"==typeof console.error){var e;(e=console).error.apply(e,arguments)}}("Could not find icon",F),null;var J=W.abstract,M={ref:t};return Object.keys(e).forEach(function(t){b.defaultProps.hasOwnProperty(t)||(M[t]=e[t])}),_(J[0],M)});b.displayName="FontAwesomeIcon",b.propTypes={beat:o().bool,border:o().bool,beatFade:o().bool,bounce:o().bool,className:o().string,fade:o().bool,flash:o().bool,mask:o().oneOfType([o().object,o().array,o().string]),maskId:o().string,fixedWidth:o().bool,inverse:o().bool,flip:o().oneOf([!0,!1,"horizontal","vertical","both"]),icon:o().oneOfType([o().object,o().array,o().string]),listItem:o().bool,pull:o().oneOf(["right","left"]),pulse:o().bool,rotation:o().oneOf([0,90,180,270]),shake:o().bool,size:o().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o().bool,spinPulse:o().bool,spinReverse:o().bool,symbol:o().oneOfType([o().bool,o().string]),title:o().string,titleId:o().string,transform:o().oneOfType([o().string,o().object]),swapOpacity:o().bool},b.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var _=(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var a=(n.children||[]).map(function(n){return e(t,n)}),o=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,r=t.indexOf(":"),a=p(t.slice(0,r)),o=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a).charAt(0).toUpperCase()+n.slice(1)]=o:e[a]=o,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[p(t)]=r}return e},{attrs:{}}),i=r.style,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,m);return o.attrs.style=c(c({},o.attrs.style),void 0===i?{}:i),t.apply(void 0,[n.tag,c(c({},o.attrs),s)].concat(d(a)))}).bind(null,i.createElement)},6852:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7294);function a(e){var t,n=((t=(0,r.useRef)(e)).current=e,t);(0,r.useEffect)(function(){return function(){return n.current()}},[])}},4194:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7216),a=n(3004),o=n(7294),i=n(2963);let s=(e,t)=>a.Z?null==e?(t||(0,r.Z)()).body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect))?e:null:null;function c(e,t){let n=(0,i.Z)(),[r,a]=(0,o.useState)(()=>s(e,null==n?void 0:n.document));if(!r){let c=s(e);c&&a(c)}return(0,o.useEffect)(()=>{t&&r&&t(r)},[t,r]),(0,o.useEffect)(()=>{let t=s(e);t!==r&&a(t)},[e,r]),r}},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294),a=n(3004);let o=(0,r.createContext)(a.Z?window:void 0);function i(){return(0,r.useContext)(o)}o.Provider},424:function(e,t,n){"use strict";function r(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,{Z:function(){return r}})},1132:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,{Z:function(){return r}})},2862:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/AddDevice",function(){return n(799)}])},1675:function(e,t){"use strict";let n="192.168.0.200:5000";t.Z={Add_New_Device:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Add_New_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Update_Media_Properties:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Update_Media_Properties?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Delete_Device:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Delete_Device?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Get_Video_list:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Get_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Fetch_Video_list:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Fetch_Video_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Fetch_Image_list:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Fetch_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});return 200!==r.status?r.json().then(e=>e):r.json().then(e=>e)},Get_Image_list:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Get_Image_list?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await r.json();return a},Delete_From_Bucket:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/Delete_From_Bucket?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await r.json();return a},Verify_Device:async e=>{let t=await fetch("http://".concat(n,"/api/Signage/NativeTV/VerifyDevice"),{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),r=await t.json();return r},Purchased_Devices:async()=>{let e=localStorage.getItem("token"),t=await fetch("http://".concat(n,"/api/Signage/NativeTV/PurchasedDevices?secret_token=")+e,{method:"get"}),r=await t.json();return r},Invoices:async e=>{let t=localStorage.getItem("token"),r=await fetch("http://".concat(n,"/api/Signage/NativeTV/fetchUserInvoices?secret_token=")+t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await r.json();return a}}},2787:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5893);n(7294);var a=n(5249),o=n.n(a);function i(){return(0,r.jsx)("div",{className:o().Nav,children:(0,r.jsx)("div",{className:o().title,children:(0,r.jsxs)("h3",{children:["Welcome to ",(0,r.jsx)("span",{children:"Digital Signage"})]})})})}},799:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(5893),a=n(7294),o=n(2787),i=n(1675),s=n(5005),c=n(4492),l=n(542),u=n.n(l),d=n(7814),f=n(2920),p=n(1163),m=n(9417),h=n(7930),g=n(8182);function v(e){let{props:t}=e,n=e=>{let t=new Date(e),n=t.toLocaleString("en-us",{month:"long",year:"numeric",day:"numeric"});return n},o=(0,p.useRouter)(),[l,v]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!0),_=()=>v(!1),j=()=>v(!0),[x,D]=(0,a.useState)({message:"",msgError:!1}),[C,N]=(0,a.useState)({DeviceName:"",DeviceID:"",OrderId:t.OrderId}),[w,O]=(0,a.useState)(!1),S=()=>{N({DeviceName:"",DeviceID:""})},k=e=>{b(!0);let{name:t,value:n}=e.target;N({...C,[t]:n})},Z=async e=>{e.preventDefault(),e.stopPropagation(),""===C.DeviceID?D({message:"Please Fill all the Details",msgError:!0}):(D({message:"Searching...",msgError:!1}),setTimeout(()=>{i.Z.Verify_Device({UID:C.DeviceID}).then(e=>{e.msgError?(D({message:e.msg,msgError:!0}),b(!0)):(D({message:"Device Verification Successfull",msgError:!1}),b(!1))}).catch(e=>{alert("Something Went Wrong")})},1e3))},I=async e=>{e.preventDefault(),e.stopPropagation(),""===C.DeviceID||""===C.DeviceName?f.Am.error("Please Fill all the Details",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):i.Z.Add_New_Device(C).then(e=>{e.message.msgError?f.Am.error(e.message.msgBody,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):(f.Am.success("Successfully Added!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),S(),o.replace("/admin/VideoMedia/#device"+C.DeviceID))}).catch(e=>{f.Am.error("SomeThing Went Wrong!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})})};return(0,r.jsxs)("div",{className:u().Device_container,children:[(0,r.jsx)("div",{className:u().faqs,children:(0,r.jsxs)(g.Z,{className:u().CardContainer,children:[(0,r.jsxs)(g.Z.Header,{as:"h5",children:[(0,r.jsx)(d.G,{className:u().icon,icon:m.MW5}),(0,r.jsx)("span",{children:"Connect Your Device Now"})]}),(0,r.jsxs)(g.Z.Body,{children:[(0,r.jsxs)(g.Z.Title,{children:[" ",(0,r.jsx)("span",{className:"text-warning",children:"Created On:"})," ",n(t.startDate),(0,r.jsx)("span",{className:"text-warning",children:" Ends On:"})," ",n(t.endDate)]}),(0,r.jsxs)(g.Z.Text,{children:["Device Limit: ",t.DeviceQuantity]}),(0,r.jsx)(s.Z,{variant:"warning",onClick:j,children:"Connect"})]})]})}),(0,r.jsxs)(h.Z,{show:l,className:u().ModalContainer,onHide:_,children:[(0,r.jsx)(h.Z.Header,{className:u().ModalHeader,closeButton:!0,children:(0,r.jsx)(h.Z.Title,{children:"Connect Device"})}),(0,r.jsx)(h.Z.Body,{children:(0,r.jsx)(c.Z,{className:u().form,children:(0,r.jsxs)(c.Z.Group,{className:"mb-3 d-flex w-100 flex-column ",controlId:"formBasicEmail",children:[(0,r.jsx)(c.Z.Control,{type:"text",className:"mt-2 mb-2",placeholder:"Enter Any Name",name:"DeviceName",pattern:"^[A-Za-z0-9]*$",value:C.DeviceName,onChange:k}),(0,r.jsx)(c.Z.Control,{type:"text",className:"mt-2 mb-2",placeholder:"Enter Device ID",name:"DeviceID",pattern:"^[A-Za-z0-9]*$",value:C.DeviceID,onChange:k}),x.msgError?(0,r.jsx)("span",{className:"text-danger",children:x.message}):(0,r.jsx)("span",{className:"text-success",children:x.message}),(0,r.jsx)(s.Z,{variant:"warning",className:"font-weight-bold m-2",type:"submit",onClick:Z,disabled:!y,children:"Verify"}),"Please Keep Your Device Switched On and Connect it with Wi-fi To Fetch The Device UID and then Click on Verify Button.",(0,r.jsx)("br",{}),"If this prompt shows an Error it means your device is not ready to connect.",(0,r.jsx)("br",{}),"Remember Once You Connect Your Device You Cant Change Device ID."]})})}),(0,r.jsxs)(h.Z.Footer,{children:[(0,r.jsx)(s.Z,{variant:"secondary",onClick:_,children:"Close"}),(0,r.jsx)(s.Z,{variant:"warning",onClick:I,disabled:y,children:"Add"})]})]})]})}var y=n(1766),b=n.n(y),_=n(1664),j=n.n(_);function x(){let[e,t]=(0,a.useState)({}),[n,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{i.Z.Purchased_Devices().then(e=>{e.msgError?console.log("error"):(t(e.msg),s(!0))}).catch(e=>{console.log(e)})},[]),(0,r.jsxs)("main",{className:b().AddDevice_Container,children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:b().grid,children:(0,r.jsxs)("div",{className:b().row__one,children:[(0,r.jsx)("div",{className:"text-warning",children:(0,r.jsx)("h2",{children:"ADD NEW DEVICE"})}),n?e.length>0?e.map((e,t)=>(0,r.jsx)(v,{props:e},t)):(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-secondary",children:"You have not purchased any device yet"}),(0,r.jsx)(j(),{href:"/admin/Purchase",className:"btn btn-warning",children:"Purchase"})]}):null]})})]})}},1766:function(e){e.exports={AddDevice_Container:"AddDevice_AddDevice_Container__4d_FW",grid:"AddDevice_grid__eUEPw",row__one:"AddDevice_row__one__u0Zq4",row__two:"AddDevice_row__two__eljej"}},5249:function(e){e.exports={Nav:"Navbar_Nav__U4jLv",title:"Navbar_title__vNChJ",search:"Navbar_search__q_Gca"}},542:function(e){e.exports={Device_container:"DeviceContainer_Device_container__PKY8o",title:"DeviceContainer_title__P7sBY",faqs:"DeviceContainer_faqs__ZAzn4",form:"DeviceContainer_form__h_iZJ",icon:"DeviceContainer_icon__nXwb2",CardContainer:"DeviceContainer_CardContainer__ZE562",info:"DeviceContainer_info__Qymck",ModalContainer:"DeviceContainer_ModalContainer__m8Kln",slideUp:"DeviceContainer_slideUp__h1IdP",verificationStatus:"DeviceContainer_verificationStatus__BN5ZY",ModalHeader:"DeviceContainer_ModalHeader__Hn_8c"}},8182:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(4184),a=n.n(r),o=n(7294),i=n(6792),s=n(6611),c=n(1822),l=n(5893);let u=o.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...o},s)=>{let c=(0,i.vE)(e,"card-img");return(0,l.jsx)(r,{ref:s,className:a()(n?`${c}-${n}`:c,t),...o})});u.displayName="CardImg";var d=n(9059);let f=o.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},s)=>{let c=(0,i.vE)(e,"card-header"),u=(0,o.useMemo)(()=>({cardHeaderBsPrefix:c}),[c]);return(0,l.jsx)(d.Z.Provider,{value:u,children:(0,l.jsx)(n,{ref:s,...r,className:a()(t,c)})})});f.displayName="CardHeader";let p=(0,c.Z)("h5"),m=(0,c.Z)("h6"),h=(0,s.Z)("card-body"),g=(0,s.Z)("card-title",{Component:p}),v=(0,s.Z)("card-subtitle",{Component:m}),y=(0,s.Z)("card-link",{Component:"a"}),b=(0,s.Z)("card-text",{Component:"p"}),_=(0,s.Z)("card-footer"),j=(0,s.Z)("card-img-overlay"),x=o.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:o,body:s,children:c,as:u="div",...d},f)=>{let p=(0,i.vE)(e,"card");return(0,l.jsx)(u,{ref:f,...d,className:a()(t,p,n&&`bg-${n}`,r&&`text-${r}`,o&&`border-${o}`),children:s?(0,l.jsx)(h,{children:c}):c})});x.displayName="Card",x.defaultProps={body:!1};var D=Object.assign(x,{Img:u,Title:g,Subtitle:v,Body:h,Link:y,Text:b,Header:f,Footer:_,ImgOverlay:j})},9059:function(e,t,n){"use strict";var r=n(7294);let a=r.createContext(null);a.displayName="CardHeaderContext",t.Z=a},1485:function(e,t,n){"use strict";var r=n(5697),a=n.n(r),o=n(7294),i=n(4184),s=n.n(i),c=n(5893);let l={"aria-label":a().string,onClick:a().func,variant:a().oneOf(["white"])},u=o.forwardRef(({className:e,variant:t,...n},r)=>(0,c.jsx)("button",{ref:r,type:"button",className:s()("btn-close",t&&`btn-close-${t}`,e),...n}));u.displayName="CloseButton",u.propTypes=l,u.defaultProps={"aria-label":"Close"},t.Z=u},1822:function(e,t,n){"use strict";var r=n(7294),a=n(4184),o=n.n(a),i=n(5893);t.Z=e=>r.forwardRef((t,n)=>(0,i.jsx)("div",{...t,ref:n,className:o()(t.className,e)}))}},function(e){e.O(0,[4976,4492,5263,7930,9774,2888,179],function(){return e(e.s=2862)}),_N_E=e.O()}]);