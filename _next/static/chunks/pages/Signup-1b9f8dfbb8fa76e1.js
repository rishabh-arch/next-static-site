(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6032],{7316:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Signup",function(){return n(9460)}])},9460:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(5893),s=n(1502),r=n.n(s),l=n(8126),c=n(9012),o=n(682),i=n(4492),d=n(5005),u=n(1664),m=n.n(u),p=n(4119),h=n(1555),x=n(4051),j=n(1573),g=n(7826),f=n(1800),Z=n(2920),b=n(7294),N=n(1163),v=n(6968);function C(){let e=(0,N.useRouter)(),t=(0,b.useRef)(!1),[n,s]=(0,b.useState)(!1),[l,c]=(0,b.useState)({}),[u,C]=(0,b.useState)(""),[S,y]=(0,b.useState)(!1),[k,_]=(0,b.useState)(!1),[w,E]=(0,b.useState)(""),[F,O]=(0,b.useState)(""),[P,A]=(0,b.useState)({first_name:"",email:"",pwd:"",contact:"",gender:""}),V=(0,b.useContext)(g.Vo),I=e=>{let{name:t,value:n}=e.target;A({...P,[t]:n}),l[t]&&c({...l,[t]:null})},$=(0,b.useRef)(null);(0,b.useEffect)(()=>()=>{clearTimeout($)},[]);let B=()=>{A({first_name:"",email:"",pwd:"",contact:""})},z=e=>{Z.Am.success(e,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},T=e=>{Z.Am.error(e,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},q=async e=>{e.preventDefault(),e.stopPropagation();let n=(0,f.V)(P);Object.keys(n).length>0&&(c(n),s(!0)),t.current.disabled=!0,j.Z.Send_Otp(P).then(e=>{if(e.msgError)throw Error(e.msg);setTimeout(()=>{t.current.disabled=!1},3e3),O(e.msg),_(!0)}).catch(e=>{setTimeout(()=>{t.current.disabled=!1},3e3),T("".concat(e))})},G=async n=>{n.currentTarget,n.preventDefault(),n.stopPropagation();let a=(0,f.V)(P);Object.keys(a).length>0&&(c(a),s(!0)),j.Z.register({user:P,otp:w,token:F}).then(n=>{if(n.msgError)throw Error(n.msg);console.log(n.msg),j.Z.login({contact:P.contact,pwd:P.pwd}).then(n=>{let{isAuthenticated:a,user:s}=n;a?(y(!0),V.setUser(s),V.setIsAuthenticated(a),localStorage.setItem("token",n.token),z("Success,Will be redirect to Home!"),B(),t.current.disabled=!0,$=setTimeout(()=>{e.push("/admin/Dashboard")},2e3)):(y(!1),setInterval(()=>{try{t.current.disabled=!1}catch(e){clearInterval()}},3e3),T(n))})}).catch(e=>{console.log(e),T("".concat(e))})};return(0,a.jsxs)("div",{className:r().Signup,children:[k?(0,a.jsxs)(o.Z,{className:"".concat(r().formContainer," d-flex justify-content-center"),children:[(0,a.jsx)("p",{className:"".concat(r().primary_color," h2"),children:"Enter OTP"}),(0,a.jsxs)(i.Z,{noValidate:!0,validated:n,children:[(0,a.jsx)(i.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:(0,a.jsxs)(p.Z,{className:"mt-2",label:"6 digit OTP",children:[(0,a.jsx)(i.Z.Control,{defaultValue:"",value:w,className:r().SignupInputs,name:"Otp_Value",type:"text",onChange:e=>{E(e.target.value)},as:"input",pattern:"^[0-9]{6}$",required:!0,autoComplete:"off",autoSave:"off"}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Otp must contain 6 letters!"}),(0,a.jsx)(i.Z.Control.Feedback,{children:"Accepted!"})]})}),(0,a.jsxs)(h.Z,{md:!0,className:r().FormButtons,children:[(0,a.jsx)(d.Z,{className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),onClick:G,ref:t,children:"Sign-up"}),(0,a.jsx)(m(),{href:"/Login",className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),children:"Back"})]})]}),S?(0,a.jsx)(v.Z,{animation:"border",variant:"warning"}):null]}):(0,a.jsxs)(o.Z,{className:"".concat(r().formContainer," d-flex justify-content-center"),children:[(0,a.jsx)("p",{className:"".concat(r().primary_color," h2"),children:"SIGN UP"}),(0,a.jsxs)(i.Z,{noValidate:!0,validated:n,children:[(0,a.jsxs)(i.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:[(0,a.jsxs)(p.Z,{className:"mt-2",label:"Name",children:[(0,a.jsx)(i.Z.Control,{defaultValue:"",value:P.first_name,className:r().SignupInputs,name:"first_name",type:"text",onChange:I,as:"input",pattern:"^[a-zA-Z]{5,}$",required:!0}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Name must contain minimum 5 letters!"}),(0,a.jsx)(i.Z.Control.Feedback,{children:"Accepted!"})]}),(0,a.jsxs)(p.Z,{className:"mt-2",label:"Password",children:[(0,a.jsx)(i.Z.Control,{defaultValue:"",value:P.pwd,className:r().SignupInputs,name:"pwd",type:"password",onChange:I,as:"input",pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{10,}$",required:!0}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Password Must contain 10 letters (Alphabets and Numbers)!"}),(0,a.jsx)(i.Z.Control.Feedback,{children:"Accepted!"})]}),(0,a.jsxs)(p.Z,{className:"mt-2",label:"Gender",children:[(0,a.jsxs)(i.Z.Select,{defaultValue:"",value:P.gender,className:r().SignupInputs,name:"gender",type:"text",onChange:I,as:"input",pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{10,}$",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"Male",children:"Male"}),(0,a.jsx)("option",{value:"Female",children:"Female"}),(0,a.jsx)("option",{value:"Others",children:"Others"})]}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Please Select Gender!"}),(0,a.jsx)(i.Z.Control.Feedback,{children:"Accepted!"})]}),(0,a.jsxs)(x.Z,{className:"g-2 mt-2",children:[(0,a.jsx)(h.Z,{md:!0,children:(0,a.jsxs)(p.Z,{label:"Email address",children:[(0,a.jsx)(i.Z.Control,{defaultValue:"",value:P.email,className:r().SignupInputs,type:"email",name:"email",onChange:I,required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[A-z]{2,}$"}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Enter Valid Mail"})]})}),(0,a.jsx)(h.Z,{md:!0,children:(0,a.jsxs)(p.Z,{label:"Phone",children:[(0,a.jsx)(i.Z.Control,{defaultValue:"",value:P.contact,className:r().SignupInputs,as:"input",type:"tel",name:"contact",onChange:I,pattern:"^[0-9]{10}$",required:!0}),(0,a.jsx)(i.Z.Control.Feedback,{type:"invalid",children:"Check Your Phone Number"})]})})]})]}),(0,a.jsxs)(h.Z,{md:!0,className:r().FormButtons,children:[(0,a.jsx)(d.Z,{className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),onClick:q,ref:t,children:"Sign-up"}),(0,a.jsx)(m(),{href:"/Login",className:"".concat(r().button," ").concat(r().button_primary," ").concat(r().SignupButton),children:"Back"})]})]}),S?(0,a.jsx)(v.Z,{animation:"border",variant:"warning"}):null]}),(0,a.jsx)("div",{className:"animje-element",children:(0,a.jsx)("img",{width:400,height:400,className:r().img,src:"/svgs/fingerprint.svg",alt:""})})]})}var S=function(){return(0,a.jsx)(g.ZP,{children:(0,a.jsx)(g.Vo.Consumer,{children:e=>(0,a.jsx)("div",{children:(0,a.jsx)(C,{})})})})},y=n(723);function k(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{title:"Signup"}),(0,a.jsx)("main",{className:r().main,children:(0,a.jsxs)("div",{className:"".concat(r().body_wrap),children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:r().container,children:(0,a.jsx)(S,{})}),(0,a.jsx)(y.Z,{})]})})]})}},4051:function(e,t,n){"use strict";var a=n(4184),s=n.n(a),r=n(7294),l=n(6792),c=n(5893);let o=r.forwardRef(({bsPrefix:e,className:t,as:n="div",...a},r)=>{let o=(0,l.vE)(e,"row"),i=(0,l.pi)(),d=(0,l.zG)(),u=`${o}-cols`,m=[];return i.forEach(e=>{let t;let n=a[e];delete a[e],null!=n&&"object"==typeof n?{cols:t}=n:t=n;let s=e!==d?`-${e}`:"";null!=t&&m.push(`${u}${s}-${t}`)}),(0,c.jsx)(n,{ref:r,...a,className:s()(t,o,...m)})});o.displayName="Row",t.Z=o}},function(e){e.O(0,[4976,4492,596,1698,9774,2888,179],function(){return e(e.s=7316)}),_N_E=e.O()}]);