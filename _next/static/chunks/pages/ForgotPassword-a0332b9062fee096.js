(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{3509:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ForgotPassword",function(){return s(4688)}])},4688:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(5893),o=s(1502),n=s.n(o),r=s(682),l=s(4492),c=s(5005),i=s(4119),d=s(1555),u=s(1573),m=s(1800),p=s(7294),h=s(1163),g=s(2920),f=s(6968),j=s(8126),x=s(9012),b=s(723);function N(){let e=(0,p.useRef)(!1),[t,s]=(0,p.useState)(!1),o=(0,h.useRouter)(),[N,C]=(0,p.useState)(!1),[Z,v]=(0,p.useState)({}),[w,P]=(0,p.useState)({first_name:"no_name",email:"forgot@password",pwd:"forgotPassword123F",contact:"",gender:"anonymous"}),[y,k]=(0,p.useState)({pwd:"",cpwd:""}),[_,O]=(0,p.useState)(""),[S,F]=(0,p.useState)(!1),[A,V]=(0,p.useState)(!1),E=e=>{let{name:t,value:s}=e.target;k({...y,[t]:s}),Z[t]&&v({...Z,[t]:null})},B=e=>{let{name:t,value:s}=e.target;P({...w,[t]:s}),Z[t]&&v({...Z,[t]:null})},T=(0,p.useRef)(null);(0,p.useEffect)(()=>()=>{clearTimeout(T)},[]);let I=async e=>{e.preventDefault(),e.stopPropagation();let t=(0,m.l)(w);Object.keys(t).length>0&&(v(t),C(!0)),""!==w.contact&&u.Z.Send_Otp(w).then(e=>{let{msgError:t,msg:s}=e;t?g.Am.error(s,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):V(s)}).catch(e=>{console.log("".concat(e))})},D=async e=>{e.preventDefault(),e.stopPropagation();let t=(0,m.l)(w);Object.keys(t).length>0&&(v(t),C(!0)),""!==w.contact&&u.Z.Verify_Forgot_Password_OTP({user:w,otp:_,token:A}).then(e=>{let{msgError:t,msg:s}=e;t?g.Am.error(s,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}):(console.log(e),F(!0),console.log(s),g.Am.success("Verification link sent to your Number",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}))}).catch(e=>{console.log("".concat(e))})},H=async e=>{e.preventDefault(),e.stopPropagation();let t=(0,m.l)(w);Object.keys(t).length>0&&(v(t),C(!0)),""!==w.contact&&u.Z.NewUserPassword({user:w,otp:_,token:A,userNewPass:y}).then(e=>{let{msgError:t,msg:a}=e;t?(s(!1),g.Am.error(a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})):(console.log(e),F(!0),console.log(a),s(!0),g.Am.success(a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),T=setTimeout(()=>{o.push("/Login")},5e3))}).catch(e=>{console.log("".concat(e))})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{title:"Forgot Password"}),(0,a.jsx)("main",{className:n().main,children:(0,a.jsxs)("div",{className:"".concat(n().body_wrap),children:[(0,a.jsx)(j.Z,{}),(0,a.jsx)("div",{className:n().container,children:(0,a.jsxs)("div",{className:n().Signup,children:[(0,a.jsxs)(r.Z,{className:"".concat(n().formContainer," d-flex justify-content-center"),children:[(0,a.jsx)("p",{className:"".concat(n().primary_color," h2"),children:"FORGOT PASSWORD"}),!1==A?(0,a.jsxs)(l.Z,{noValidate:!0,validated:N,children:[(0,a.jsx)(l.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:(0,a.jsxs)(i.Z,{label:"Phone Number",children:[(0,a.jsx)(l.Z.Control,{id:"field1",defaultValue:"",value:w.contact,className:n().SignupInputs,type:"tel",name:"contact",onChange:B,required:!0,pattern:"^[0-9]{10}$",autoComplete:"off"}),(0,a.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Enter Valid Phone Number"})]})}),(0,a.jsx)(d.Z,{md:!0,className:n().FormButtons,children:(0,a.jsx)(c.Z,{className:"".concat(n().button," ").concat(n().button_primary," mt-2"),onClick:I,ref:e,children:"Send Verification"})})]}):S?(0,a.jsxs)(l.Z,{noValidate:!0,validated:N,children:[(0,a.jsxs)(l.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:[(0,a.jsxs)(i.Z,{label:"New Password ",className:"mb-3",children:[(0,a.jsx)(l.Z.Control,{defaultValue:"",value:y.pwd,className:n().SignupInputs,type:"password",name:"pwd",onChange:E,required:!0,pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{10,}$"}),(0,a.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Password Must Contain 10 Characters(Alphabets and Numbers)"})]}),(0,a.jsxs)(i.Z,{label:"Confirm New Password",children:[(0,a.jsx)(l.Z.Control,{defaultValue:"",value:y.cpwd,className:n().SignupInputs,type:"text",name:"cpwd",onChange:E,required:!0,pattern:"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{10,}$"}),(0,a.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Password Must Contain 10 Characters(Alphabets and Numbers)"})]})]}),(0,a.jsx)(d.Z,{md:!0,className:n().FormButtons,children:(0,a.jsx)(c.Z,{className:"".concat(n().button," ").concat(n().button_primary," mt-2"),onClick:H,ref:e,children:"Change Password"})})]}):(0,a.jsxs)(l.Z,{noValidate:!0,validated:N,children:[(0,a.jsx)(l.Z.Group,{className:"d-flex flex-column justify-content-center",controlId:"formName",children:(0,a.jsxs)(i.Z,{label:"Enter 6 Digit OTP",children:[(0,a.jsx)(l.Z.Control,{id:"field2",value:_,className:n().SignupInputs,type:"tel",name:"otp",onChange:e=>{O(e.target.value)},required:!0,pattern:"^[0-9]{6}$",autoComplete:"off"}),(0,a.jsx)(l.Z.Control.Feedback,{type:"invalid",children:"Enter 6 Digit OTP"})]})}),(0,a.jsx)(d.Z,{md:!0,className:n().FormButtons,children:(0,a.jsx)(c.Z,{className:"".concat(n().button," ").concat(n().button_primary," mt-2"),onClick:D,ref:e,children:"Change Password"})})]}),t?(0,a.jsx)(f.Z,{animation:"border",variant:"warning"}):null]}),(0,a.jsx)("div",{className:"animje-element",children:(0,a.jsx)("img",{width:400,height:400,className:n().img,src:"/svgs/forgotpassword.svg",alt:""})})]})}),(0,a.jsx)(b.Z,{})]})})]})}}},function(e){e.O(0,[4976,4492,596,1698,9774,2888,179],function(){return e(e.s=3509)}),_N_E=e.O()}]);