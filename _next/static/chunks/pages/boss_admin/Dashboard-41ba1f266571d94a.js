(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2130],{3162:function(e,t,s){var a,o;void 0!==(a="function"==typeof(o=function(){"use strict";function t(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(s){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s.g&&s.g.global===s.g?s.g:void 0,r=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,s,r){var i=n.URL||n.webkitURL,l=document.createElement("a");s=s||e.name||"download",l.download=s,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):a(l.href)?t(e,s,r):o(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,n){if(s=s||e.name||"download","string"!=typeof e){var r;navigator.msSaveOrOpenBlob((void 0===(r=n)?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),s)}else if(a(e))t(e,s,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){o(i)})}}:function(e,s,a,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,s,a);var i="application/octet-stream"===e.type,l=/constructor/i.test(n.HTMLElement)||n.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var _=n.URL||n.webkitURL,u=_.createObjectURL(e);o?o.location=u:location.href=u,o=null,setTimeout(function(){_.revokeObjectURL(u)},4e4)}});n.saveAs=i.saveAs=i,e.exports=i})?o.apply(t,[]):o)&&(e.exports=a)},7128:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boss_admin/Dashboard",function(){return s(2897)}])},6324:function(e,t,s){"use strict";s(5893),s(7294)},223:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5893);s(7294);var o=s(3845),n=s(1652),r=s.n(n);function i(e){let{user_info:t}=e;return console.log("user_info",t),(0,a.jsxs)("div",{className:r().Section,children:[(0,a.jsx)("div",{className:r().image,children:(0,a.jsx)("img",{src:"/svgs/".concat(t[0].gender,".svg"),alt:""})}),(0,a.jsxs)("div",{className:r().title,children:[(0,a.jsxs)("h2",{children:["Hi, ",t[0].first_name]}),(0,a.jsxs)("h5",{children:[(0,a.jsx)(o.Zu,{})," ",t[0].email]})]})]})}},9195:function(e,t,s){"use strict";s.d(t,{Z:function(){return _}});var a=s(5893),o=s(7294),n=s(1476),r=s.n(n),i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)};function l(e){var t,s,a,n,r,i,l,c=e.className,d=e.counterClockwise,_=e.dashRatio,u=e.pathRadius,h=e.strokeWidth,f=e.style;return(0,o.createElement)("path",{className:c,style:Object.assign({},f,(s=(t={pathRadius:u,dashRatio:_,counterClockwise:d}).counterClockwise,n=(1-t.dashRatio)*(a=2*Math.PI*t.pathRadius),{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(s?-n:n)+"px"})),d:"\n      M 50,50\n      m 0,-"+(i=(r={pathRadius:u,counterClockwise:d}).pathRadius)+"\n      a "+i+","+i+" "+(l=r.counterClockwise?1:0)+" 1 1 0,"+2*i+"\n      a "+i+","+i+" "+l+" 1 1 0,-"+2*i+"\n    ",strokeWidth:h,fillOpacity:0})}var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return!function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,s=e.minValue,a=e.maxValue;return(Math.min(Math.max(t,s),a)-s)/(a-s)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,s=e.className,a=e.classes,n=e.counterClockwise,r=e.styles,i=e.strokeWidth,c=e.text,d=this.getPathRadius(),_=this.getPathRatio();return(0,o.createElement)("svg",{className:a.root+" "+s,style:r.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,o.createElement)("circle",{className:a.background,style:r.background,cx:50,cy:50,r:50}):null,(0,o.createElement)(l,{className:a.trail,counterClockwise:n,dashRatio:t,pathRadius:d,strokeWidth:i,style:r.trail}),(0,o.createElement)(l,{className:a.path,counterClockwise:n,dashRatio:_*t,pathRadius:d,strokeWidth:i,style:r.path}),c?(0,o.createElement)("text",{className:a.text,style:r.text,x:50,y:50},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(o.Component);function d(e){return Object.keys(e).forEach(function(t){null==e[t]&&delete e[t]}),e}function _(e){var t,s,o,n,i,l,_,u,h,f,p,m;let{props:g}=e,{storageFilled:v,storageLimit:b}=g,x=v/b*100;return console.log("storage",g),(0,a.jsxs)("div",{className:r().Section,children:[(0,a.jsx)("div",{className:r().title,children:(0,a.jsx)("h2",{children:"Storage"})}),(0,a.jsx)("div",{className:r().transactions,children:(0,a.jsx)(c,{value:x,text:"".concat(x,"%"),styles:(s=(t={strokeLinecap:"butt",textSize:"16px",pathTransitionDuration:.5,pathColor:"rgb(255, ".concat((b-v)/100*255,", 0)"),textColor:"#fff",trailColor:"#000",backgroundColor:"#3e98c7"}).rotation,o=t.strokeLinecap,n=t.textColor,i=t.textSize,l=t.pathColor,_=t.pathTransition,u=t.pathTransitionDuration,h=t.trailColor,f=t.backgroundColor,{root:{},path:d({stroke:l,strokeLinecap:o,transform:p=null==s?void 0:"rotate("+s+"turn)",transformOrigin:m=null==s?void 0:"center center",transition:_,transitionDuration:null==u?void 0:u+"s"}),trail:d({stroke:h,strokeLinecap:o,transform:p,transformOrigin:m}),text:d({fill:n,fontSize:i}),background:d({fill:f})})})}),(0,a.jsxs)("div",{className:r().view__all,children:[(0,a.jsxs)("span",{children:["Limit: ",b," MB,"," "]})," ",(0,a.jsxs)("span",{children:[" "," Used: ",v," MB"]})]})]})}s(5677)},2787:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5893);s(7294);var o=s(5249),n=s.n(o);function r(){return(0,a.jsx)("div",{className:n().Nav,children:(0,a.jsx)("div",{className:n().title,children:(0,a.jsxs)("h3",{children:["Welcome to ",(0,a.jsx)("span",{children:"Digital Signage"})]})})})}},2897:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(5893),o=s(7294);s(6324);var n=s(5471),r=s.n(n);s(1664);var i=s(5005),l=s(4492),c=s(4051),d=s(1573),_=s(2920);function u(){let[e,t]=(0,o.useState)(!1),s=e=>{if(t(!0),e.preventDefault(),e.stopPropagation(),""===n.current||""===n.three||""===n.six||""===n.twelve){_.Am.error("Please Fill all the Details",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{t(!1)},3e3);return}d.Z.Modify_Amount(n).then(e=>{e.msgError?(_.Am.error(e.message,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{t(!1)},3e3)):(_.Am.success(e.message,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{t(!1)},3e3))})},[n,u]=(0,o.useState)({current:"",three:"",six:"",twelve:""}),h=e=>{let{name:t,value:s}=e.target;u({...n,[t]:s})};return(0,a.jsxs)("div",{className:r().Section,children:[(0,a.jsx)("div",{className:r().title,children:(0,a.jsx)("h2",{children:"Modify Price"})}),(0,a.jsx)("div",{className:r().faqs,children:(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)(l.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,a.jsx)(l.Z.Label,{children:"Enter Price"}),(0,a.jsx)(l.Z.Control,{name:"current",onChange:h,value:n.current,type:"Number",placeholder:"Enter Price"}),(0,a.jsx)(l.Z.Text,{className:"text-muted"})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(l.Z.Group,{style:{width:"30%"},className:"mb-3",controlId:"formBasicPassword",children:[(0,a.jsx)(l.Z.Label,{children:"Discount for 3 Months"}),(0,a.jsx)(l.Z.Control,{name:"three",onChange:h,value:n.three,type:"Number",placeholder:"10%,20%,30%"})]}),(0,a.jsxs)(l.Z.Group,{style:{width:"30%"},className:"mb-3",controlId:"formBasicPassword",children:[(0,a.jsx)(l.Z.Label,{children:"Discount for 6 Months"}),(0,a.jsx)(l.Z.Control,{name:"six",onChange:h,value:n.six,type:"Number",placeholder:"10%,20%,30%"})]}),(0,a.jsxs)(l.Z.Group,{style:{width:"30%"},className:"mb-3",controlId:"formBasicPassword",children:[(0,a.jsx)(l.Z.Label,{children:"Discount for 12 Months"}),(0,a.jsx)(l.Z.Control,{name:"twelve",onChange:h,value:n.twelve,type:"Number",placeholder:"10%,20%,30%"})]})]}),(0,a.jsx)(i.Z,{onClick:s,disabled:e,variant:"warning",type:"submit",children:"Submit"})]})})]})}var h=s(1417),f=s.n(h);function p(e){let{props:t}=e;return(0,a.jsxs)("div",{className:f().Analytics_Container,children:[(0,a.jsxs)("div",{className:f().analytic,children:[(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsx)("h5",{children:"Users"}),(0,a.jsx)("h2",{children:t.totalUsers})]}),(0,a.jsx)("div",{className:f().logo})]}),(0,a.jsxs)("div",{className:f().analytic,children:[(0,a.jsx)("div",{className:f().logo}),(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsx)("h5",{children:"Active Devices"}),(0,a.jsx)("h2",{style:{color:"green"},children:t.totalDevice})]})]}),(0,a.jsxs)("div",{className:f().analytic,children:[(0,a.jsx)("div",{className:f().logo}),(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsx)("h5",{children:"total Devices"}),(0,a.jsx)("h2",{children:t.totalDeviceRegistrations})]})]}),(0,a.jsxs)("div",{className:f().analytic,children:[(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsx)("h5",{children:"TotalInvoices"}),(0,a.jsx)("h2",{children:t.TotalInvoices})]}),(0,a.jsx)("div",{className:f().logo})]})]})}var m=s(2787);s(223),s(9195);var g=s(9896),v=s.n(g),b=s(7826),x=s(3162),y=s(1163),j=s(8945),w=s(1479);function k(){return(0,a.jsx)(b.ZP,{children:(0,a.jsx)(b.Vo.Consumer,{children:e=>(0,a.jsx)("div",{children:(0,a.jsx)(N,{})})})})}function N(){let e=(0,o.useContext)(b.Vo),{isAuthenticated:t,user:s}=e,[n,r]=(0,o.useState)({}),[l,c]=(0,o.useState)(!1);(0,y.useRouter)();let[_,h]=(0,o.useState)(0),f=async e=>{let t=localStorage.getItem("token");await j.Z.get("http://".concat("192.168.0.200:5000","/api/Signage/Admin/downloadExcel?secret_token=")+t+"&dbName="+e,{responseType:"arraybuffer",onDownloadProgress:e=>{h(parseInt(Math.round(100*e.loaded/e.total)))}}).then(t=>{let s=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,x.saveAs)(s,"backup"!==e?"".concat(e,".xlsx"):"".concat(e,".gzip"))}).then(()=>{h(0)}).catch(e=>{console.log(e)})};return(0,o.useEffect)(()=>{d.Z.getAllInfo().then(e=>{if(console.log(e.message),e.msgError)throw Error(e.message);r(e.message),c(!0)}).catch(e=>{console.log(e)})},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:v().Dashboard_Container,children:[(0,a.jsx)(m.Z,{}),l?(0,a.jsxs)("div",{className:v().grid,children:[(0,a.jsxs)("div",{className:v().row__one,children:[(0,a.jsx)(u,{}),(0,a.jsx)(p,{props:n})]}),(0,a.jsxs)("div",{className:v().row__two,children:[(0,a.jsx)(i.Z,{variant:"warning",text:"dark",onClick:()=>f("users"),children:"Download Excel"}),(0,a.jsx)(i.Z,{variant:"warning",text:"dark",onClick:async()=>{await f("invoices")},children:"Download Invoices"}),(0,a.jsx)(i.Z,{variant:"warning",text:"dark",onClick:async()=>{await f("backup")},children:"Download backup"})]}),(0,a.jsx)(w.Z,{animated:!0,now:_,label:"".concat(_,"%"),variant:"success"})]}):null]})})}},1417:function(e){e.exports={Analytics_Container:"Analytics_Analytics_Container__KTbPs",analytic:"Analytics_analytic__YVe1E","Analytics-Container":"Analytics_Analytics-Container__S_O7w",logo:"Analytics_logo__QryqA",deleteLogo:"Analytics_deleteLogo__G7HXV",deleteLogo_null:"Analytics_deleteLogo_null__a_WCO",statusOnline:"Analytics_statusOnline__6ibGr",statusOffline:"Analytics_statusOffline__Pdfh_",Alert:"Analytics_Alert__zIfpM",slideUp:"Analytics_slideUp___tRLg",infoAlert:"Analytics_infoAlert__N45qW",InfoAlertDetails:"Analytics_InfoAlertDetails__IyXjO",detailsDiv:"Analytics_detailsDiv__7EoQY",infoLogo:"Analytics_infoLogo__p3ES4"}},5471:function(e){e.exports={Section:"FAQ_Section__ngb1g",title:"FAQ_title__QNlgI",faqs:"FAQ_faqs__gSc03",faq:"FAQ_faq__Fn2aU",info:"FAQ_info__oX_h1"}},1652:function(e){e.exports={Section:"Profile_Section__4fdff",image:"Profile_image__C8oUj",title:"Profile_title__dd2Pj",info:"Profile_info__7BKih",container:"Profile_container__Mm4D9"}},1476:function(e){e.exports={Section:"Transfers_Section__iQi21",title:"Transfers_title__cIGE6",transactions:"Transfers_transactions__RFM17",transaction:"Transfers_transaction__1hxjX",transaction__title:"Transfers_transaction__title__GcjKf",transaction__title__image:"Transfers_transaction__title__image__9d_3u",transaction__amount:"Transfers_transaction__amount__vDfPz",view:"Transfers_view__3IcPv"}},5249:function(e){e.exports={Nav:"Navbar_Nav__U4jLv",title:"Navbar_title__vNChJ",search:"Navbar_search__q_Gca"}},9896:function(e){e.exports={Analytics_Container:"boss_Dashboard_Analytics_Container__DZAEx",analytic:"boss_Dashboard_analytic___yHZ4",table:"boss_Dashboard_table__U7RYB","Analytics-Container":"boss_Dashboard_Analytics-Container__up38x",logo:"boss_Dashboard_logo__I06jI",Dashboard_Container:"boss_Dashboard_Dashboard_Container__Phw_G",grid:"boss_Dashboard_grid__HdG7x",row__one:"boss_Dashboard_row__one__ZvH_F",row_Full_Analytics:"boss_Dashboard_row_Full_Analytics__jZz_T",row__two:"boss_Dashboard_row__two__Dh8rR",deleteLogo:"boss_Dashboard_deleteLogo__SVd2h",deleteLogo_null:"boss_Dashboard_deleteLogo_null__OkZYZ",statusOnline:"boss_Dashboard_statusOnline__3h97Y",statusOffline:"boss_Dashboard_statusOffline__EnKWY",Alert:"boss_Dashboard_Alert__Ykct3",slideUp:"boss_Dashboard_slideUp__uESDI",infoAlert:"boss_Dashboard_infoAlert__1rVze",InfoAlertDetails:"boss_Dashboard_InfoAlertDetails__JH_FH",InfoAlertBackButton:"boss_Dashboard_InfoAlertBackButton__kHqx6",detailsDiv:"boss_Dashboard_detailsDiv__hhFlL",infoLogo:"boss_Dashboard_infoLogo__Zev_c",PurchaseButton:"boss_Dashboard_PurchaseButton__lfMKz",TotalPrice:"boss_Dashboard_TotalPrice__2iunz",popover:"boss_Dashboard_popover__bkK65",moreButton:"boss_Dashboard_moreButton__tGvZ6",EmptyContainer:"boss_Dashboard_EmptyContainer__Uej3Z"}},5677:function(){},1479:function(e,t,s){"use strict";var a=s(4184),o=s.n(a),n=s(7294),r=s(6792),i=s(3439),l=s(5893);function c({min:e,now:t,max:s,label:a,visuallyHidden:n,striped:r,animated:i,className:c,style:d,variant:_,bsPrefix:u,...h},f){return(0,l.jsx)("div",{ref:f,...h,role:"progressbar",className:o()(c,`${u}-bar`,{[`bg-${_}`]:_,[`${u}-bar-animated`]:i,[`${u}-bar-striped`]:i||r}),style:{width:`${Math.round((t-e)/(s-e)*1e5)/1e3}%`,...d},"aria-valuenow":t,"aria-valuemin":e,"aria-valuemax":s,children:n?(0,l.jsx)("span",{className:"visually-hidden",children:a}):a})}let d=n.forwardRef(({isChild:e,...t},s)=>{if(t.bsPrefix=(0,r.vE)(t.bsPrefix,"progress"),e)return c(t,s);let{min:a,now:d,max:_,label:u,visuallyHidden:h,striped:f,animated:p,bsPrefix:m,variant:g,className:v,children:b,...x}=t;return(0,l.jsx)("div",{ref:s,...x,className:o()(v,m),children:b?(0,i.UI)(b,e=>(0,n.cloneElement)(e,{isChild:!0})):c({min:a,now:d,max:_,label:u,visuallyHidden:h,striped:f,animated:p,bsPrefix:m,variant:g},s)})});d.displayName="ProgressBar",d.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1},t.Z=d},4051:function(e,t,s){"use strict";var a=s(4184),o=s.n(a),n=s(7294),r=s(6792),i=s(5893);let l=n.forwardRef(({bsPrefix:e,className:t,as:s="div",...a},n)=>{let l=(0,r.vE)(e,"row"),c=(0,r.pi)(),d=(0,r.zG)(),_=`${l}-cols`,u=[];return c.forEach(e=>{let t;let s=a[e];delete a[e],null!=s&&"object"==typeof s?{cols:t}=s:t=s;let o=e!==d?`-${e}`:"";null!=t&&u.push(`${_}${o}-${t}`)}),(0,i.jsx)(s,{ref:n,...a,className:o()(t,l,...u)})});l.displayName="Row",t.Z=l}},function(e){e.O(0,[4492,8945,9774,2888,179],function(){return e(e.s=7128)}),_N_E=e.O()}]);